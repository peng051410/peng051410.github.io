<!doctype html><html lang=en dir=auto data-theme=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>GO语言学习与分享-入门篇 | I'm company</title><meta name=keywords content="go"><meta name=description content="简介

GO诞生于2009年，官网
静态编译型语言
强类型语言


     


创始人

Ken Thompson
Rob Pike
Robert Griesemer


     




肯 汤普森
罗伯 派克
罗伯特 格瑞史莫


目标

简单
高效
生产力


借鉴多门编程语言，新时代的C

设计哲学

简单
显式
组合
并发
面向工程

类型
普通类型

$GOPATH/src/builtin/builtin.go


type-study/type-study_test.go
https://www.educative.io/answers/what-is-type-uintptr-in-golang

int

int
int8
int16
int32
int64

uint

uint
uint8
uint16
uint32
uint64
uintptr


不带数字的为平台相关的类型"><meta name=author content="tomyli"><link rel=canonical href=http://blog.imcompany.cn/post/learn-go/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.da3211e5ef867bf2b75fd5a6515cfed7195c011e8ab735694e203810a827097b.css integrity="sha256-2jIR5e+Ge/K3X9WmUVz+1xlcAR6KtzVpTiA4EKgnCXs=" rel="preload stylesheet" as=style><link rel=icon href=http://blog.imcompany.cn/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=http://blog.imcompany.cn/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=http://blog.imcompany.cn/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=http://blog.imcompany.cn/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=http://blog.imcompany.cn/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=http://blog.imcompany.cn/post/learn-go/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51);color-scheme:dark}.list{background:var(--theme)}.toc{background:var(--entry)}}@media(prefers-color-scheme:light){.list::-webkit-scrollbar-thumb{border-color:var(--code-bg)}}</style></noscript><script>localStorage.getItem("pref-theme")==="dark"?document.querySelector("html").dataset.theme="dark":localStorage.getItem("pref-theme")==="light"?document.querySelector("html").dataset.theme="light":window.matchMedia("(prefers-color-scheme: dark)").matches?document.querySelector("html").dataset.theme="dark":document.querySelector("html").dataset.theme="light"</script><meta property="og:url" content="http://blog.imcompany.cn/post/learn-go/"><meta property="og:site_name" content="I'm company"><meta property="og:title" content="GO语言学习与分享-入门篇"><meta property="og:description" content="简介 GO诞生于2009年，官网 静态编译型语言 强类型语言 创始人 Ken Thompson Rob Pike Robert Griesemer 肯 汤普森 罗伯 派克 罗伯特 格瑞史莫 目标 简单 高效 生产力 借鉴多门编程语言，新时代的C
设计哲学 简单 显式 组合 并发 面向工程 类型 普通类型 $GOPATH/src/builtin/builtin.go
type-study/type-study_test.go
https://www.educative.io/answers/what-is-type-uintptr-in-golang
int int int8 int16 int32 int64 uint uint uint8 uint16 uint32 uint64 uintptr 不带数字的为平台相关的类型"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="post"><meta property="article:published_time" content="2023-09-19T16:00:00+08:00"><meta property="article:modified_time" content="2023-10-08T20:16:45+08:00"><meta property="article:tag" content="Go"><meta property="og:image" content="http://blog.imcompany.cn/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="http://blog.imcompany.cn/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="GO语言学习与分享-入门篇"><meta name=twitter:description content="简介

GO诞生于2009年，官网
静态编译型语言
强类型语言


     


创始人

Ken Thompson
Rob Pike
Robert Griesemer


     




肯 汤普森
罗伯 派克
罗伯特 格瑞史莫


目标

简单
高效
生产力


借鉴多门编程语言，新时代的C

设计哲学

简单
显式
组合
并发
面向工程

类型
普通类型

$GOPATH/src/builtin/builtin.go


type-study/type-study_test.go
https://www.educative.io/answers/what-is-type-uintptr-in-golang

int

int
int8
int16
int32
int64

uint

uint
uint8
uint16
uint32
uint64
uintptr


不带数字的为平台相关的类型"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"http://blog.imcompany.cn/post/"},{"@type":"ListItem","position":2,"name":"GO语言学习与分享-入门篇","item":"http://blog.imcompany.cn/post/learn-go/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"GO语言学习与分享-入门篇","name":"GO语言学习与分享-入门篇","description":"简介 GO诞生于2009年，官网 静态编译型语言 强类型语言 创始人 Ken Thompson Rob Pike Robert Griesemer 肯 汤普森 罗伯 派克 罗伯特 格瑞史莫 目标 简单 高效 生产力 借鉴多门编程语言，新时代的C\n设计哲学 简单 显式 组合 并发 面向工程 类型 普通类型 $GOPATH/src/builtin/builtin.go\ntype-study/type-study_test.go\nhttps://www.educative.io/answers/what-is-type-uintptr-in-golang\nint int int8 int16 int32 int64 uint uint uint8 uint16 uint32 uint64 uintptr 不带数字的为平台相关的类型\n","keywords":["go"],"articleBody":"简介 GO诞生于2009年，官网 静态编译型语言 强类型语言 创始人 Ken Thompson Rob Pike Robert Griesemer 肯 汤普森 罗伯 派克 罗伯特 格瑞史莫 目标 简单 高效 生产力 借鉴多门编程语言，新时代的C\n设计哲学 简单 显式 组合 并发 面向工程 类型 普通类型 $GOPATH/src/builtin/builtin.go\ntype-study/type-study_test.go\nhttps://www.educative.io/answers/what-is-type-uintptr-in-golang\nint int int8 int16 int32 int64 uint uint uint8 uint16 uint32 uint64 uintptr 不带数字的为平台相关的类型\nfloat float32 float64 bool true false var a bool = true var b bool = false string var s string = \"hello\" fmt.Println(s) fmt.Println(len(s)) s += \" world\" fmt.Println(s) fmt.Println(s[0]) fmt.Printf(\"s is %c\", s[0]) type-string/string_test.go\n内部指向包含Data与len的结构\n类型转换 JAVA\nint a = 1; long b = a; GO显示转换\nvar a int32 = 1 var b int64 //b = a // cannot use a (type int32) as type int64 in assignment b = int64(a) fmt.Println(b) 自定义类型 type MyInt int64 type IntConv func(op int) int var a MyInt = 1 fmt.Println(a) // var b int64 = a var c int64 = int64(a) fmt.Println(c) 类型别名 go 1.9加入 在大规模的重构项目代码的时候 支持为其它包定义别名 少写变量 type S = string type MyTime = time.Time var s S = \"hello\" fmt.Printf(\"%+v\\n\", s) var t MyTime = time.Now() fmt.Printf(\"%+v\\n\", t) 类型别名与类型定义的区别 类型别名和原类型是相同的 类型定义和原类型是不同的两个类型 type S = string type MyString string var s1 S var s2 MyString fmt.Printf(\"%T\\n\", s1) fmt.Printf(\"%T\\n\", s2) 集合 数组 var arr [5]int fmt.Println(arr) arr[0] = 8 fmt.Println(arr) arrInit := [5]int{1, 2, 3, 4, 5} fmt.Println(arrInit) arrExpand := [...]int{2, 3, 4, 5, 6, 7} fmt.Println(arrExpand) arrWithIndexInit := [5]int{ 2: 101, } fmt.Println(arrWithIndexInit) for i, v := range arrWithIndexInit { fmt.Println(i, v) } 数组是不可变的\narray/array_test.go\n切片 var s0 []int fmt.Println(s0, len(s0), cap(s0)) arr := [5]int{1, 2, 3, 4, 5} slice := arr[1:4] fmt.Println(slice) var sliceMake = make([]int, 2, 4) fmt.Println(sliceMake) 编程常用结构，类比JAVA的ArrayList 关注len与capacity\n切片转数组指针 Go 1.17引入 slice := []int32{1, 2, 3} // from go 1.17, convert array length must be less then or equals slice length arr := (*[3]int32)(slice) fmt.Printf(\"%+v\\n\", arr) fmt.Printf(\"%T\\n\", arr) 转换的数据指针长度只可小于等于切片长度\nMap me := map[string]string{} fmt.Println(me) m := map[string]string{ \"name\": \"tomyli\", \"address\": \"beijing\", } fmt.Println(m) m3 := make(map[int]int, 10) fmt.Println(len(m3)) //set m[\"address\"] = \"shanghai\" //exist v, ok := m[\"address\"] // ok is true v, ok = m[\"age\"] // ok is false fmt.Println(v, ok) //iterate comma, ok for k, v := range m { fmt.Println(k, v) } // delete delete(m, \"address\") 指针 a := 1 aPtr := \u0026a //aPtr = aPtr + 1 fmt.Println(a) fmt.Println(aPtr) fmt.Printf(\"a Ptr type is %T\", aPtr) fmt.Println(*aPtr) GO不允许直接对指针进行计算\n结构体 struct/struct_test.go\ntype User struct { Name string Age int Address string } 嵌入结构体 type Address struct { Name string Code string } type User struct { Name string Age int Address Address } 使用结构体 type User struct { Name string Age int Address string } var user User fmt.Println(user) user1 := User{ Name: \"John\", Age: 1, } fmt.Println(user1) 空结构体 type User struct{} 常用作事件消息通信\n接口类型 空接口 var i interface{} i = 1 fmt.Println(i) i = \"hello\" fmt.Println(i) var j any // add from 1.18 fmt.Println(j) 自定义接口 package main type MyInterface interface { M1() } type Person struct { Name string } func (p Person) M1() { fmt.Println(\"Hello M1\") } func main() { p := Person{} p.M1() } 零值可用 可以直接在声明变量上进行调用\nvar i int var f float64 var b bool var s string fmt.Printf(\"%v %v %v %q\\n\", i, f, b, s) var mu sync.Mutex mu.Lock() mu.Unlock() 不用担心变量的初始化状态 https://go.dev/tour/basics/12\n变量 作用域 全局变量 局部变量 声明 package main var num = 10 func sum() { var name = \"tomyli\" fmt.Println(name) var a, b = 100, \"200\" fmt.Println(a, b) } func main() { // fmt.Println(name) fmt.Println(num) sum() } variable-use/var_test.go\n常量 const lang = \"english\" const ( JAVA = \"java\" GO = \"go\" ) const ua = 10 var b int64 = 100 fmt.Println(ua + b) 无类型常量，隐式转型\n枚举 iota\n值从0开始 递增1 const ( c0 = iota // c0 == 0 c1 = iota // c1 == 1 c2 = iota // c2 == 2 ) const ( a = 1 \u003c\u003c iota // a == 1 (iota == 0) b = 1 \u003c\u003c iota // b == 2 (iota == 1) c = 3 // c == 3 (iota == 2, unused) d = 1 \u003c\u003c iota // d == 8 (iota == 3) ) 结构化 if b := 2 if c := 10; c \u003e b { fmt.Println(\"c \u003e b\") } else if d := 20; d \u003e b { fmt.Println(\"d \u003e b\") // fmt.Println(c) } 支持语句中定义变量，作用域为if语句代码块 演示作用域\nfor for i := 0; i \u003c 5; i++ { fmt.Println(i) } arr := []int{1, 2, 3, 4, 5} for i, v := range arr { fmt.Printf(\"index is %d, value is %d\", i, v) } go中没有while循环\nswitch-case switch支持多种比较对象，只要类型支持比较操作 支持声明临时变量 支持表达式列表 取消默认执行下一句，想继续执行要使用 fallthrough a := 10 switch a { case 1, 3, 5: t.Log(\"a is odds\") case 10: t.Log(\"a is 10\") default: t.Log(\"a is not 1 or 10\") } type switch var x interface{} x = \"hello\" switch x.(type) { case string: t.Log(\"x is string\") case int: t.Log(\"x is int\") default: t.Log(\"x is not string or int\") } x必须为接口类型\n函数 一等公民 声明为变量 做为参数 做为返回值 main() 程序的入口 无参数 无返回值 main包包名要为main且只可有一个main函数 init() 先于main函数执行 多个按代码顺序执行 运行顺序: 常量-\u003e变量-\u003einit()\ninit()用途 用于修改包级变量 包复杂变量的初始化 注册模式 trpc-go的config\n可变参数 package main func sum(nums ...int) int { s := 0 for _, n := range nums { s += n } return s } func main() { result := sum(1, 2, 3, 4, 5) fmt.Println(result) } 底层实现为数组\n多返回值 package main func returnMultiValues() (int, int) { return rand.Int(), rand.Int() } 内建函数 append cap clear close complex copy delete imag len make max min new panic print println real recover\n$GOPATH/src/builtin/builtin.go\n面向对象编程 方法 必须属于某一个类型 T与*T的方法可互调 go不支持方法重载 package main type Person struct { Name string } func (p Person) Print() string { return \"the person name is \" + p.Name } func (p *Person) PrintName() string { return \"the person name is \" + p.Name } func main() { person := Person{} person.Name = \"tomyli\" fmt.Println(person.Print()) fmt.Println(person.PrintName()) } 方法表达式 package main type Person struct { Name string } func (p Person) Print() string { return \"the person name is \" + p.Name } func (p *Person) Names() { p.Name += \"123\" } func main() { person := Person{} person.Name = \"tomyli\" fmt.Println(Person.Print(person)) aPerson := person1.Names aPerson() } 一个以方法的reciver参数作为第一个参数的普通函数\n继承 不支持继承，支持复合 匿名类型嵌入 type S struct { io.Reader str string } func main() { r := strings.NewReader(\"hello, tomy\") s := S{ Reader: r, str: \"world\", } var sl = make([]byte, len(\"hello, tomy\")) s.Reader.Read(sl) s.Read(sl) //here like extends } 用继承来做什么，go如何实现继承\n接口 Duck Type式 可定义非导出方法 定义与实现 type MyInterface interface { M1() } type T int func (T) M1() { fmt.Println(\"T's M1\") } func main() { var t T t.M1() } var mi MyInterface = t t, ok := mi.(T) fmt.Println(t, ok)\n判断接口类型 var a int64 = 10 var i interface{} = a v1, ok := i.(int64) fmt.Printf(\"v1 type is %T\", v1) fmt.Println() fmt.Printf(\"v1 type is int64? %t\", ok) 类型为接口类型时，ok为true, v1为真正的类型\n空接口 var i interface{} // go 1.18 // var i any fmt.Println(i) i = 1 fmt.Println(i) i = \"hello\" fmt.Println(i) 错误与异常 错误统一用error代表 异常使用panic() err := errors.New(\"this is an error\") err1 := fmt.Errorf(\"this is an error %w\", err) err2 := fmt.Errorf(\"this is an error %w\", err1) fmt.Println(err) fmt.Println(err1) fmt.Println(err2) fmt.Println(errors.Is(err1, err)) fmt.Println(errors.Is(err2, err)) panic 在go运行时触发 通过 panic() 触发 导致程序崩溃 package main func foo() { fmt.Println(\"foo start\") panic(\"no no no\") fmt.Println(\"foo end\") } func main() { fmt.Println(\"main start\") foo() fmt.Println(\"main end\") } recover 异常恢复\npackage main func foo() { defer func() { if r := recover(); r != nil { fmt.Println(\"got panic\") } }() fmt.Println(\"foo start\") panic(\"no no no\") fmt.Println(\"foo end\") } func main() { fmt.Println(\"main start\") foo() fmt.Println(\"main end\") } 异常恢复的代码要放在最上面可运行的地方\n工程化 包 包是go语言的基本组成单元，通常使用小写单词命名 整个工程只允许有一个main包 首字母大写的标识符才是包外可见的 输出的包分为可执行包与库类型包 go.mod 定义模块名，go版本，依赖包信息\ngo.sum与go.mod中对应的md5信息，保证开发版本一致\n工程根目录为go.mod文件所在的目录 资源释放 defer 用于资源清理 定义的方法执行时先进后出 defer代码执行时，参数就会被绑定 defer可以读取命名返回值 package main func ReleaseCon() { fmt.Printf(\"%+v\\n\", \"release connection\") } func main() { defer func() { fmt.Printf(\"%+v\\n\", \"hello\") }() defer ReleaseCon() fmt.Printf(\"%+v\\n\", \"start\") } 并发 位于 sync 包下\nMutex 互斥锁 RWMutex 互斥读写锁 WaitGroup 等待多个任务完成 Cond 条件变量 Map 并发安全的Map Once 只执行一次 Channel 用于goroutine之间通信\nvar ch chan int ch1 := make(chan int) bufch := make(chan int, 10) fmt.Printf(\"%+v, type is %T \\n\", ch, ch) fmt.Printf(\"%+v, type is %T \\n\", ch1, ch1) fmt.Printf(\"%+v, type is %T \\n\", bufch, bufch) 后续对并发进行单独分享\n泛型 GO1.18 新特性\npackage main type ordered interface { ~int | ~int8 | ~int16 | ~int32 | ~int64 | ~uint | ~uint8 | ~uint16 | ~uint32 | ~uint64 | ~uintptr | ~float32 | ~float64 | ~string } type mystring string func maxGeneric[T ordered](sl []T) T { if len(sl) == 0 { panic(\"empty input\") } max := sl[0] for _, v := range sl[1:] { if v \u003e max { max = v } } return max } func main() { fmt.Printf(\"%d\\n\", maxGeneric([]int{1, 2, 3})) fmt.Printf(\"%s\\n\", maxGeneric([]string{\"a\", \"b\", \"c\"})) fmt.Printf(\"%s\\n\", maxGeneric([]mystring{\"a\", \"b\", \"c\", \"d\"})) } 测试 Testing包\n文件名以 _test 结尾 支持单元测试与性能基准测试 单元测试 单元测试方法以 Test 开头 使用命令 go test 执行 package hellotest func TestHello(t *testing.T) { t.Log(\"this is a test\") } 性能基准测试 性能基准测试以 Benchmark 开头 使用 go test -bench=. 执行 package hellotest func BenchmarkHello(b *testing.B) { for i := 0; i \u003c b.N; i++ { fmt.Printf(\"hello\") } } 常用GO命令 go version go build go run go install go mod go mod init go mod tidy go doc go work go help 常用内建包 fmt strings strconv time os errors 最佳实践 error 类型返回值放在返回值列表的末尾 $GOPATH/src/net/http/server.go\n接收接口，返回结构体 // NewCond returns a new Cond with Locker l. func NewCond(l Locker) *Cond { return \u0026Cond{L: l} } $GOPATH/src/sync/cond.go\n发现接口而不是提前进行抽象 非必要不抽象\n泛型的使用 类型参数名的首字母通常采用大写形式，并且类型参数必须是具名的 使用类型参数的原因是它们让你的代码更清晰，如果它们会让你的代码变得更复杂，就不要使用 REF https://blog.go-zh.org/gos-declaration-syntax\nhttps://colobu.com/\nEND ","wordCount":"1525","inLanguage":"en","image":"http://blog.imcompany.cn/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E","datePublished":"2023-09-19T16:00:00+08:00","dateModified":"2023-10-08T20:16:45+08:00","author":{"@type":"Person","name":"tomyli"},"mainEntityOfPage":{"@type":"WebPage","@id":"http://blog.imcompany.cn/post/learn-go/"},"publisher":{"@type":"Organization","name":"I'm company","logo":{"@type":"ImageObject","url":"http://blog.imcompany.cn/%3Clink%20/%20abs%20url%3E"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=http://blog.imcompany.cn/ accesskey=h title="Home (Alt + H)"><img src=http://blog.imcompany.cn/apple-touch-icon.png alt aria-label=logo height=35>Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=http://blog.imcompany.cn/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=http://blog.imcompany.cn/categories/ title=Categories><span>Categories</span></a></li><li><a href=http://blog.imcompany.cn/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://github.com/peng051410/today_i_learn title=Til><span>Til</span>&nbsp;
<svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=http://blog.imcompany.cn/>Home</a>&nbsp;»&nbsp;<a href=http://blog.imcompany.cn/post/>Posts</a></div><h1 class="post-title entry-hint-parent">GO语言学习与分享-入门篇</h1><div class=post-meta><span title='Created: 2023-09-19 16:00:00 +0800 CST'>2023-09-19</span>&nbsp;·&nbsp;<span title='Modified: 2023-10-08 20:16:45 +0800 CST'> (Updated: 2023-10-08)</span>&nbsp;·&nbsp;<span>8 min</span>&nbsp;·&nbsp;<span>1525 words</span>&nbsp;·&nbsp;<span>tomyli</span></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#简介>简介</a><ul><li><a href=#创始人>创始人</a></li><li><a href=#目标>目标</a></li></ul></li><li><a href=#设计哲学>设计哲学</a></li><li><a href=#类型>类型</a><ul><li><a href=#普通类型>普通类型</a></li><li><a href=#集合>集合</a></li><li><a href=#指针>指针</a></li><li><a href=#结构体>结构体</a></li><li><a href=#接口类型>接口类型</a></li><li><a href=#零值可用>零值可用</a></li></ul></li><li><a href=#变量>变量</a><ul><li><a href=#作用域>作用域</a></li><li><a href=#声明>声明</a></li></ul></li><li><a href=#常量>常量</a><ul><li><a href=#枚举>枚举</a></li></ul></li><li><a href=#结构化>结构化</a><ul><li><a href=#if>if</a></li><li><a href=#for>for</a></li><li><a href=#switch-case>switch-case</a></li></ul></li><li><a href=#函数>函数</a><ul><li><a href=#一等公民>一等公民</a></li><li><a href=#main>main()</a></li><li><a href=#init>init()</a></li><li><a href=#可变参数>可变参数</a></li><li><a href=#多返回值>多返回值</a></li><li><a href=#内建函数>内建函数</a></li></ul></li><li><a href=#面向对象编程>面向对象编程</a><ul><li><a href=#方法>方法</a></li><li><a href=#继承>继承</a></li><li><a href=#接口>接口</a></li><li><a href=#错误与异常>错误与异常</a></li></ul></li><li><a href=#工程化>工程化</a><ul><li><a href=#包>包</a></li><li><a href=#工程根目录为go-dot-mod文件所在的目录>工程根目录为go.mod文件所在的目录</a></li><li><a href=#资源释放>资源释放</a></li></ul></li><li><a href=#并发>并发</a><ul><li><a href=#channel>Channel</a></li></ul></li><li><a href=#泛型>泛型</a></li><li><a href=#测试>测试</a><ul><li><a href=#单元测试>单元测试</a></li><li><a href=#性能基准测试>性能基准测试</a></li></ul></li><li><a href=#常用go命令>常用GO命令</a></li><li><a href=#常用内建包>常用内建包</a></li><li><a href=#最佳实践>最佳实践</a><ul><li><a href=#error-类型返回值放在返回值列表的末尾>error 类型返回值放在返回值列表的末尾</a></li><li><a href=#接收接口-返回结构体>接收接口，返回结构体</a></li><li><a href=#发现接口而不是提前进行抽象>发现接口而不是提前进行抽象</a></li><li><a href=#泛型的使用>泛型的使用</a></li></ul></li><li><a href=#ref>REF</a></li><li><a href=#end>END</a></li></ul></nav></div></details></div><div class=post-content><h2 id=简介>简介<a hidden class=anchor aria-hidden=true href=#简介>#</a></h2><ol><li>GO诞生于2009年，<a href=https://go.dev/>官网</a></li><li>静态编译型语言</li><li>强类型语言</li></ol><figure><img loading=lazy src=/ox-hugo/golang.png width=50% height=50%></figure><h3 id=创始人>创始人<a hidden class=anchor aria-hidden=true href=#创始人>#</a></h3><ol><li>Ken Thompson</li><li>Rob Pike</li><li>Robert Griesemer</li></ol><figure><img loading=lazy src=/ox-hugo/go-fathers.jpg></figure><ol><li>肯 汤普森</li><li>罗伯 派克</li><li>罗伯特 格瑞史莫</li></ol><h3 id=目标>目标<a hidden class=anchor aria-hidden=true href=#目标>#</a></h3><ol><li>简单</li><li>高效</li><li>生产力</li></ol><p>借鉴多门编程语言，新时代的C</p><h2 id=设计哲学>设计哲学<a hidden class=anchor aria-hidden=true href=#设计哲学>#</a></h2><ol><li>简单</li><li>显式</li><li>组合</li><li>并发</li><li>面向工程</li></ol><h2 id=类型>类型<a hidden class=anchor aria-hidden=true href=#类型>#</a></h2><h3 id=普通类型>普通类型<a hidden class=anchor aria-hidden=true href=#普通类型>#</a></h3><blockquote><p>$GOPATH/src/builtin/builtin.go</p></blockquote><p>type-study/type-study_test.go</p><p><a href=https://www.educative.io/answers/what-is-type-uintptr-in-golang>https://www.educative.io/answers/what-is-type-uintptr-in-golang</a></p><h4 id=int>int<a hidden class=anchor aria-hidden=true href=#int>#</a></h4><ol><li>int</li><li>int8</li><li>int16</li><li>int32</li><li>int64</li></ol><h4 id=uint>uint<a hidden class=anchor aria-hidden=true href=#uint>#</a></h4><ol><li>uint</li><li>uint8</li><li>uint16</li><li>uint32</li><li>uint64</li><li>uintptr</li></ol><p>不带数字的为平台相关的类型</p><h4 id=float>float<a hidden class=anchor aria-hidden=true href=#float>#</a></h4><ol><li>float32</li><li>float64</li></ol><h4 id=bool>bool<a hidden class=anchor aria-hidden=true href=#bool>#</a></h4><ol><li>true</li><li>false</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>var</span><span class=w> </span><span class=nx>a</span><span class=w> </span><span class=kt>bool</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>var</span><span class=w> </span><span class=nx>b</span><span class=w> </span><span class=kt>bool</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span></code></pre></div><h4 id=string>string<a hidden class=anchor aria-hidden=true href=#string>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>var</span><span class=w> </span><span class=nx>s</span><span class=w> </span><span class=kt>string</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=s>&#34;hello&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>s</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=nx>s</span><span class=p>))</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>s</span><span class=w> </span><span class=o>+=</span><span class=w> </span><span class=s>&#34; world&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>s</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>s</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;s is %c&#34;</span><span class=p>,</span><span class=w> </span><span class=nx>s</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span><span class=w>
</span></span></span></code></pre></div><p>type-string/string_test.go</p><p>内部指向包含Data与len的结构</p><h4 id=类型转换>类型转换<a hidden class=anchor aria-hidden=true href=#类型转换>#</a></h4><p>JAVA</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kt>int</span><span class=w> </span><span class=n>a</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>1</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=kt>long</span><span class=w> </span><span class=n>b</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>a</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></div><p>GO显示转换</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>var</span><span class=w> </span><span class=nx>a</span><span class=w> </span><span class=kt>int32</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=mi>1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>var</span><span class=w> </span><span class=nx>b</span><span class=w> </span><span class=kt>int64</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=cp>//b = a // cannot use a (type int32) as type int64 in assignment</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>b</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nb>int64</span><span class=p>(</span><span class=nx>a</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>b</span><span class=p>)</span><span class=w>
</span></span></span></code></pre></div><h4 id=自定义类型>自定义类型<a hidden class=anchor aria-hidden=true href=#自定义类型>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>type</span><span class=w> </span><span class=nx>MyInt</span><span class=w> </span><span class=kt>int64</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>type</span><span class=w> </span><span class=nx>IntConv</span><span class=w> </span><span class=kd>func</span><span class=p>(</span><span class=nx>op</span><span class=w> </span><span class=kt>int</span><span class=p>)</span><span class=w> </span><span class=kt>int</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>var</span><span class=w> </span><span class=nx>a</span><span class=w> </span><span class=nx>MyInt</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=mi>1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>a</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>// var b int64 = a</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>var</span><span class=w> </span><span class=nx>c</span><span class=w> </span><span class=kt>int64</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nb>int64</span><span class=p>(</span><span class=nx>a</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>c</span><span class=p>)</span><span class=w>
</span></span></span></code></pre></div><h4 id=类型别名>类型别名<a hidden class=anchor aria-hidden=true href=#类型别名>#</a></h4><ol><li>go 1.9加入</li><li>在大规模的重构项目代码的时候</li><li>支持为其它包定义别名</li><li>少写变量</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>type</span><span class=w> </span><span class=nx>S</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=kt>string</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>type</span><span class=w> </span><span class=nx>MyTime</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>time</span><span class=p>.</span><span class=nx>Time</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>var</span><span class=w> </span><span class=nx>s</span><span class=w> </span><span class=nx>S</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=s>&#34;hello&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;%+v\n&#34;</span><span class=p>,</span><span class=w> </span><span class=nx>s</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>var</span><span class=w> </span><span class=nx>t</span><span class=w> </span><span class=nx>MyTime</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>time</span><span class=p>.</span><span class=nf>Now</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;%+v\n&#34;</span><span class=p>,</span><span class=w> </span><span class=nx>t</span><span class=p>)</span><span class=w>
</span></span></span></code></pre></div><h4 id=类型别名与类型定义的区别>类型别名与类型定义的区别<a hidden class=anchor aria-hidden=true href=#类型别名与类型定义的区别>#</a></h4><ul><li>类型别名和原类型是相同的</li><li>类型定义和原类型是不同的两个类型</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>type</span><span class=w> </span><span class=nx>S</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=kt>string</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>type</span><span class=w> </span><span class=nx>MyString</span><span class=w> </span><span class=kt>string</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>var</span><span class=w> </span><span class=nx>s1</span><span class=w> </span><span class=nx>S</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>var</span><span class=w> </span><span class=nx>s2</span><span class=w> </span><span class=nx>MyString</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;%T\n&#34;</span><span class=p>,</span><span class=w> </span><span class=nx>s1</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;%T\n&#34;</span><span class=p>,</span><span class=w> </span><span class=nx>s2</span><span class=p>)</span><span class=w>
</span></span></span></code></pre></div><h3 id=集合>集合<a hidden class=anchor aria-hidden=true href=#集合>#</a></h3><h4 id=数组>数组<a hidden class=anchor aria-hidden=true href=#数组>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>var</span><span class=w> </span><span class=nx>arr</span><span class=w> </span><span class=p>[</span><span class=mi>5</span><span class=p>]</span><span class=kt>int</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>arr</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>arr</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=mi>8</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>arr</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>arrInit</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=p>[</span><span class=mi>5</span><span class=p>]</span><span class=kt>int</span><span class=p>{</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>,</span><span class=w> </span><span class=mi>4</span><span class=p>,</span><span class=w> </span><span class=mi>5</span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>arrInit</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>arrExpand</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=p>[</span><span class=o>...</span><span class=p>]</span><span class=kt>int</span><span class=p>{</span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>,</span><span class=w> </span><span class=mi>4</span><span class=p>,</span><span class=w> </span><span class=mi>5</span><span class=p>,</span><span class=w> </span><span class=mi>6</span><span class=p>,</span><span class=w> </span><span class=mi>7</span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>arrExpand</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>arrWithIndexInit</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=p>[</span><span class=mi>5</span><span class=p>]</span><span class=kt>int</span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=mi>2</span><span class=p>:</span><span class=w> </span><span class=mi>101</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>arrWithIndexInit</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>for</span><span class=w> </span><span class=nx>i</span><span class=p>,</span><span class=w> </span><span class=nx>v</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=k>range</span><span class=w> </span><span class=nx>arrWithIndexInit</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>i</span><span class=p>,</span><span class=w> </span><span class=nx>v</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><blockquote><p>数组是不可变的</p></blockquote><p>array/array_test.go</p><h4 id=切片>切片<a hidden class=anchor aria-hidden=true href=#切片>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>var</span><span class=w> </span><span class=nx>s0</span><span class=w> </span><span class=p>[]</span><span class=kt>int</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>s0</span><span class=p>,</span><span class=w> </span><span class=nb>len</span><span class=p>(</span><span class=nx>s0</span><span class=p>),</span><span class=w> </span><span class=nb>cap</span><span class=p>(</span><span class=nx>s0</span><span class=p>))</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>arr</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=p>[</span><span class=mi>5</span><span class=p>]</span><span class=kt>int</span><span class=p>{</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>,</span><span class=w> </span><span class=mi>4</span><span class=p>,</span><span class=w> </span><span class=mi>5</span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>slice</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>arr</span><span class=p>[</span><span class=mi>1</span><span class=p>:</span><span class=mi>4</span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>slice</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>var</span><span class=w> </span><span class=nx>sliceMake</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nb>make</span><span class=p>([]</span><span class=kt>int</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=mi>4</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>sliceMake</span><span class=p>)</span><span class=w>
</span></span></span></code></pre></div><blockquote><p>编程常用结构，类比JAVA的ArrayList
关注len与capacity</p></blockquote><h4 id=切片转数组指针>切片转数组指针<a hidden class=anchor aria-hidden=true href=#切片转数组指针>#</a></h4><ul><li>Go 1.17引入</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=nx>slice</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=p>[]</span><span class=kt>int32</span><span class=p>{</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>// from go 1.17, convert array length must be less then or equals slice length</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>arr</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=p>(</span><span class=o>*</span><span class=p>[</span><span class=mi>3</span><span class=p>]</span><span class=kt>int32</span><span class=p>)(</span><span class=nx>slice</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;%+v\n&#34;</span><span class=p>,</span><span class=w> </span><span class=nx>arr</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;%T\n&#34;</span><span class=p>,</span><span class=w> </span><span class=nx>arr</span><span class=p>)</span><span class=w>
</span></span></span></code></pre></div><blockquote><p>转换的数据指针长度只可小于等于切片长度</p></blockquote><h4 id=map>Map<a hidden class=anchor aria-hidden=true href=#map>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=nx>me</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=kd>map</span><span class=p>[</span><span class=kt>string</span><span class=p>]</span><span class=kt>string</span><span class=p>{}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>me</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>m</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=kd>map</span><span class=p>[</span><span class=kt>string</span><span class=p>]</span><span class=kt>string</span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=s>&#34;name&#34;</span><span class=p>:</span><span class=w>    </span><span class=s>&#34;tomyli&#34;</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=s>&#34;address&#34;</span><span class=p>:</span><span class=w> </span><span class=s>&#34;beijing&#34;</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>m</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>m3</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nb>make</span><span class=p>(</span><span class=kd>map</span><span class=p>[</span><span class=kt>int</span><span class=p>]</span><span class=kt>int</span><span class=p>,</span><span class=w> </span><span class=mi>10</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=nx>m3</span><span class=p>))</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=cp>//set</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>m</span><span class=p>[</span><span class=s>&#34;address&#34;</span><span class=p>]</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=s>&#34;shanghai&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=cp>//exist</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>v</span><span class=p>,</span><span class=w> </span><span class=nx>ok</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>m</span><span class=p>[</span><span class=s>&#34;address&#34;</span><span class=p>]</span><span class=w> </span><span class=c1>// ok is true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>v</span><span class=p>,</span><span class=w> </span><span class=nx>ok</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>m</span><span class=p>[</span><span class=s>&#34;age&#34;</span><span class=p>]</span><span class=w> </span><span class=c1>// ok is false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>v</span><span class=p>,</span><span class=w> </span><span class=nx>ok</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=cp>//iterate comma, ok</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>for</span><span class=w> </span><span class=nx>k</span><span class=p>,</span><span class=w> </span><span class=nx>v</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=k>range</span><span class=w> </span><span class=nx>m</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>k</span><span class=p>,</span><span class=w> </span><span class=nx>v</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>// delete</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nb>delete</span><span class=p>(</span><span class=nx>m</span><span class=p>,</span><span class=w> </span><span class=s>&#34;address&#34;</span><span class=p>)</span><span class=w>
</span></span></span></code></pre></div><h3 id=指针>指针<a hidden class=anchor aria-hidden=true href=#指针>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=nx>a</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=mi>1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>aPtr</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=o>&amp;</span><span class=nx>a</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=cp>//aPtr = aPtr + 1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>a</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>aPtr</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;a Ptr type is %T&#34;</span><span class=p>,</span><span class=w> </span><span class=nx>aPtr</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=o>*</span><span class=nx>aPtr</span><span class=p>)</span><span class=w>
</span></span></span></code></pre></div><blockquote><p>GO不允许直接对指针进行计算</p></blockquote><h3 id=结构体>结构体<a hidden class=anchor aria-hidden=true href=#结构体>#</a></h3><p>struct/struct_test.go</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>type</span><span class=w> </span><span class=nx>User</span><span class=w> </span><span class=kd>struct</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>Name</span><span class=w>    </span><span class=kt>string</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>Age</span><span class=w>     </span><span class=kt>int</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>Address</span><span class=w> </span><span class=kt>string</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><h4 id=嵌入结构体>嵌入结构体<a hidden class=anchor aria-hidden=true href=#嵌入结构体>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>type</span><span class=w> </span><span class=nx>Address</span><span class=w> </span><span class=kd>struct</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>Name</span><span class=w> </span><span class=kt>string</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>Code</span><span class=w> </span><span class=kt>string</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>type</span><span class=w> </span><span class=nx>User</span><span class=w> </span><span class=kd>struct</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>Name</span><span class=w>    </span><span class=kt>string</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>Age</span><span class=w>     </span><span class=kt>int</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>Address</span><span class=w> </span><span class=nx>Address</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><h4 id=使用结构体>使用结构体<a hidden class=anchor aria-hidden=true href=#使用结构体>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>type</span><span class=w> </span><span class=nx>User</span><span class=w> </span><span class=kd>struct</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>Name</span><span class=w>    </span><span class=kt>string</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>Age</span><span class=w>     </span><span class=kt>int</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>Address</span><span class=w> </span><span class=kt>string</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>var</span><span class=w> </span><span class=nx>user</span><span class=w> </span><span class=nx>User</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>user</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>user1</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>User</span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>Name</span><span class=p>:</span><span class=w> </span><span class=s>&#34;John&#34;</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>Age</span><span class=p>:</span><span class=w>  </span><span class=mi>1</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>user1</span><span class=p>)</span><span class=w>
</span></span></span></code></pre></div><h4 id=空结构体>空结构体<a hidden class=anchor aria-hidden=true href=#空结构体>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>type</span><span class=w> </span><span class=nx>User</span><span class=w> </span><span class=kd>struct</span><span class=p>{}</span><span class=w>
</span></span></span></code></pre></div><blockquote><p>常用作事件消息通信</p></blockquote><h3 id=接口类型>接口类型<a hidden class=anchor aria-hidden=true href=#接口类型>#</a></h3><h4 id=空接口>空接口<a hidden class=anchor aria-hidden=true href=#空接口>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>var</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=kd>interface</span><span class=p>{}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>i</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=mi>1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>i</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>i</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=s>&#34;hello&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>i</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>var</span><span class=w> </span><span class=nx>j</span><span class=w> </span><span class=kt>any</span><span class=w> </span><span class=c1>// add from 1.18</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>j</span><span class=p>)</span><span class=w>
</span></span></span></code></pre></div><h4 id=自定义接口>自定义接口<a hidden class=anchor aria-hidden=true href=#自定义接口>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span><span class=w> </span><span class=nx>main</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>type</span><span class=w> </span><span class=nx>MyInterface</span><span class=w> </span><span class=kd>interface</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nf>M1</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>type</span><span class=w> </span><span class=nx>Person</span><span class=w> </span><span class=kd>struct</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>Name</span><span class=w> </span><span class=kt>string</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>func</span><span class=w> </span><span class=p>(</span><span class=nx>p</span><span class=w> </span><span class=nx>Person</span><span class=p>)</span><span class=w> </span><span class=nf>M1</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;Hello M1&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>func</span><span class=w> </span><span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>p</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>Person</span><span class=p>{}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>p</span><span class=p>.</span><span class=nf>M1</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><h3 id=零值可用>零值可用<a hidden class=anchor aria-hidden=true href=#零值可用>#</a></h3><p>可以直接在声明变量上进行调用</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>var</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=kt>int</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>var</span><span class=w> </span><span class=nx>f</span><span class=w> </span><span class=kt>float64</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>var</span><span class=w> </span><span class=nx>b</span><span class=w> </span><span class=kt>bool</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>var</span><span class=w> </span><span class=nx>s</span><span class=w> </span><span class=kt>string</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;%v %v %v %q\n&#34;</span><span class=p>,</span><span class=w> </span><span class=nx>i</span><span class=p>,</span><span class=w> </span><span class=nx>f</span><span class=p>,</span><span class=w> </span><span class=nx>b</span><span class=p>,</span><span class=w> </span><span class=nx>s</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>var</span><span class=w> </span><span class=nx>mu</span><span class=w> </span><span class=nx>sync</span><span class=p>.</span><span class=nx>Mutex</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>mu</span><span class=p>.</span><span class=nf>Lock</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>mu</span><span class=p>.</span><span class=nf>Unlock</span><span class=p>()</span><span class=w>
</span></span></span></code></pre></div><ol><li>不用担心变量的初始化状态</li></ol><p><a href=https://go.dev/tour/basics/12>https://go.dev/tour/basics/12</a></p><h2 id=变量>变量<a hidden class=anchor aria-hidden=true href=#变量>#</a></h2><h3 id=作用域>作用域<a hidden class=anchor aria-hidden=true href=#作用域>#</a></h3><ol><li>全局变量</li><li>局部变量</li></ol><h3 id=声明>声明<a hidden class=anchor aria-hidden=true href=#声明>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span><span class=w> </span><span class=nx>main</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>var</span><span class=w> </span><span class=nx>num</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=mi>10</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>func</span><span class=w> </span><span class=nf>sum</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>var</span><span class=w> </span><span class=nx>name</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=s>&#34;tomyli&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>name</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>var</span><span class=w> </span><span class=nx>a</span><span class=p>,</span><span class=w> </span><span class=nx>b</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=mi>100</span><span class=p>,</span><span class=w> </span><span class=s>&#34;200&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>a</span><span class=p>,</span><span class=w> </span><span class=nx>b</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>func</span><span class=w> </span><span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// fmt.Println(name)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>num</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nf>sum</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><p>variable-use/var_test.go</p><h2 id=常量>常量<a hidden class=anchor aria-hidden=true href=#常量>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>const</span><span class=w> </span><span class=nx>lang</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=s>&#34;english&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>const</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>JAVA</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=s>&#34;java&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>GO</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=s>&#34;go&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>const</span><span class=w> </span><span class=nx>ua</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=mi>10</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>var</span><span class=w> </span><span class=nx>b</span><span class=w> </span><span class=kt>int64</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=mi>100</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>ua</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=nx>b</span><span class=p>)</span><span class=w>
</span></span></span></code></pre></div><p>无类型常量，隐式转型</p><h3 id=枚举>枚举<a hidden class=anchor aria-hidden=true href=#枚举>#</a></h3><p><a href=https://go.dev/ref/spec#Iota>iota</a></p><ol><li>值从0开始</li><li>递增1</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>const</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>c0</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=kc>iota</span><span class=w>  </span><span class=c1>// c0 == 0</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>c1</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=kc>iota</span><span class=w>  </span><span class=c1>// c1 == 1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>c2</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=kc>iota</span><span class=w>  </span><span class=c1>// c2 == 2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>const</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>a</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=kc>iota</span><span class=w>  </span><span class=c1>// a == 1  (iota == 0)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>b</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=kc>iota</span><span class=w>  </span><span class=c1>// b == 2  (iota == 1)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>c</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=mi>3</span><span class=w>          </span><span class=c1>// c == 3  (iota == 2, unused)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>d</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=kc>iota</span><span class=w>  </span><span class=c1>// d == 8  (iota == 3)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>)</span><span class=w>
</span></span></span></code></pre></div><h2 id=结构化>结构化<a hidden class=anchor aria-hidden=true href=#结构化>#</a></h2><h3 id=if>if<a hidden class=anchor aria-hidden=true href=#if>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=nx>b</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=mi>2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>if</span><span class=w> </span><span class=nx>c</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=mi>10</span><span class=p>;</span><span class=w> </span><span class=nx>c</span><span class=w> </span><span class=p>&gt;</span><span class=w> </span><span class=nx>b</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;c &gt; b&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=nx>d</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=mi>20</span><span class=p>;</span><span class=w> </span><span class=nx>d</span><span class=w> </span><span class=p>&gt;</span><span class=w> </span><span class=nx>b</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;d &gt; b&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// fmt.Println(c)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><blockquote><p>支持语句中定义变量，作用域为if语句代码块
演示作用域</p></blockquote><h3 id=for>for<a hidden class=anchor aria-hidden=true href=#for>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=k>for</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=p>&lt;</span><span class=w> </span><span class=mi>5</span><span class=p>;</span><span class=w> </span><span class=nx>i</span><span class=o>++</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>i</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>arr</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=p>[]</span><span class=kt>int</span><span class=p>{</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>,</span><span class=w> </span><span class=mi>4</span><span class=p>,</span><span class=w> </span><span class=mi>5</span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>for</span><span class=w> </span><span class=nx>i</span><span class=p>,</span><span class=w> </span><span class=nx>v</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=k>range</span><span class=w> </span><span class=nx>arr</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;index is %d, value is %d&#34;</span><span class=p>,</span><span class=w> </span><span class=nx>i</span><span class=p>,</span><span class=w> </span><span class=nx>v</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><blockquote><p>go中没有while循环</p></blockquote><h3 id=switch-case>switch-case<a hidden class=anchor aria-hidden=true href=#switch-case>#</a></h3><ol><li>switch支持多种比较对象，只要类型支持比较操作</li><li>支持声明临时变量</li><li>支持表达式列表</li><li>取消默认执行下一句，想继续执行要使用 <strong>fallthrough</strong></li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=nx>a</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=mi>10</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>switch</span><span class=w> </span><span class=nx>a</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>case</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>,</span><span class=w> </span><span class=mi>5</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>t</span><span class=p>.</span><span class=nf>Log</span><span class=p>(</span><span class=s>&#34;a is odds&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>case</span><span class=w> </span><span class=mi>10</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>t</span><span class=p>.</span><span class=nf>Log</span><span class=p>(</span><span class=s>&#34;a is 10&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>default</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>t</span><span class=p>.</span><span class=nf>Log</span><span class=p>(</span><span class=s>&#34;a is not 1 or 10&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><h4 id=type-switch>type switch<a hidden class=anchor aria-hidden=true href=#type-switch>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>var</span><span class=w> </span><span class=nx>x</span><span class=w> </span><span class=kd>interface</span><span class=p>{}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>x</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=s>&#34;hello&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>switch</span><span class=w> </span><span class=nx>x</span><span class=p>.(</span><span class=kd>type</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>case</span><span class=w> </span><span class=kt>string</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>t</span><span class=p>.</span><span class=nf>Log</span><span class=p>(</span><span class=s>&#34;x is string&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>case</span><span class=w> </span><span class=kt>int</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>t</span><span class=p>.</span><span class=nf>Log</span><span class=p>(</span><span class=s>&#34;x is int&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>default</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>t</span><span class=p>.</span><span class=nf>Log</span><span class=p>(</span><span class=s>&#34;x is not string or int&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><blockquote><p>x必须为接口类型</p></blockquote><h2 id=函数>函数<a hidden class=anchor aria-hidden=true href=#函数>#</a></h2><h3 id=一等公民>一等公民<a hidden class=anchor aria-hidden=true href=#一等公民>#</a></h3><ol><li>声明为变量</li><li>做为参数</li><li>做为返回值</li></ol><h3 id=main>main()<a hidden class=anchor aria-hidden=true href=#main>#</a></h3><ol><li>程序的入口</li><li>无参数</li><li>无返回值</li><li>main包包名要为main且只可有一个main函数</li></ol><h3 id=init>init()<a hidden class=anchor aria-hidden=true href=#init>#</a></h3><ol><li>先于main函数执行</li><li>多个按代码顺序执行</li></ol><p>运行顺序: 常量->变量->init()</p><h4 id=init用途>init()用途<a hidden class=anchor aria-hidden=true href=#init用途>#</a></h4><ol><li>用于修改包级变量</li><li>包复杂变量的初始化</li><li>注册模式</li></ol><p>trpc-go的config</p><h3 id=可变参数>可变参数<a hidden class=anchor aria-hidden=true href=#可变参数>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span><span class=w> </span><span class=nx>main</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>func</span><span class=w> </span><span class=nf>sum</span><span class=p>(</span><span class=nx>nums</span><span class=w> </span><span class=o>...</span><span class=kt>int</span><span class=p>)</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>s</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=mi>0</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=nx>_</span><span class=p>,</span><span class=w> </span><span class=nx>n</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=k>range</span><span class=w> </span><span class=nx>nums</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nx>s</span><span class=w> </span><span class=o>+=</span><span class=w> </span><span class=nx>n</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=nx>s</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>func</span><span class=w> </span><span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>result</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nf>sum</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>,</span><span class=w> </span><span class=mi>4</span><span class=p>,</span><span class=w> </span><span class=mi>5</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>result</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><p>底层实现为数组</p><h3 id=多返回值>多返回值<a hidden class=anchor aria-hidden=true href=#多返回值>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span><span class=w> </span><span class=nx>main</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>func</span><span class=w> </span><span class=nf>returnMultiValues</span><span class=p>()</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=nx>rand</span><span class=p>.</span><span class=nf>Int</span><span class=p>(),</span><span class=w> </span><span class=nx>rand</span><span class=p>.</span><span class=nf>Int</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><h3 id=内建函数>内建函数<a hidden class=anchor aria-hidden=true href=#内建函数>#</a></h3><p>append cap clear close complex copy delete imag len
make max min new panic print println real recover</p><figure><img loading=lazy src=/ox-hugo/go-buildin-func.jpg></figure><blockquote><p>$GOPATH/src/builtin/builtin.go</p></blockquote><h2 id=面向对象编程>面向对象编程<a hidden class=anchor aria-hidden=true href=#面向对象编程>#</a></h2><h3 id=方法>方法<a hidden class=anchor aria-hidden=true href=#方法>#</a></h3><ol><li>必须属于某一个类型</li><li>T与*T的方法可互调</li><li>go不支持方法重载</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span><span class=w> </span><span class=nx>main</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>type</span><span class=w> </span><span class=nx>Person</span><span class=w> </span><span class=kd>struct</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>Name</span><span class=w> </span><span class=kt>string</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>func</span><span class=w> </span><span class=p>(</span><span class=nx>p</span><span class=w> </span><span class=nx>Person</span><span class=p>)</span><span class=w> </span><span class=nf>Print</span><span class=p>()</span><span class=w> </span><span class=kt>string</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=s>&#34;the person name is &#34;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=nx>p</span><span class=p>.</span><span class=nx>Name</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>func</span><span class=w> </span><span class=p>(</span><span class=nx>p</span><span class=w> </span><span class=o>*</span><span class=nx>Person</span><span class=p>)</span><span class=w> </span><span class=nf>PrintName</span><span class=p>()</span><span class=w> </span><span class=kt>string</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=s>&#34;the person name is &#34;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=nx>p</span><span class=p>.</span><span class=nx>Name</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>func</span><span class=w> </span><span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>person</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>Person</span><span class=p>{}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>person</span><span class=p>.</span><span class=nx>Name</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=s>&#34;tomyli&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>person</span><span class=p>.</span><span class=nf>Print</span><span class=p>())</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>person</span><span class=p>.</span><span class=nf>PrintName</span><span class=p>())</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><h4 id=方法表达式>方法表达式<a hidden class=anchor aria-hidden=true href=#方法表达式>#</a></h4><div class=highlight width=50% height=80%><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span><span class=w> </span><span class=nx>main</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>type</span><span class=w> </span><span class=nx>Person</span><span class=w> </span><span class=kd>struct</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>Name</span><span class=w> </span><span class=kt>string</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>func</span><span class=w> </span><span class=p>(</span><span class=nx>p</span><span class=w> </span><span class=nx>Person</span><span class=p>)</span><span class=w> </span><span class=nf>Print</span><span class=p>()</span><span class=w> </span><span class=kt>string</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=s>&#34;the person name is &#34;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=nx>p</span><span class=p>.</span><span class=nx>Name</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>func</span><span class=w> </span><span class=p>(</span><span class=nx>p</span><span class=w> </span><span class=o>*</span><span class=nx>Person</span><span class=p>)</span><span class=w> </span><span class=nf>Names</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>p</span><span class=p>.</span><span class=nx>Name</span><span class=w> </span><span class=o>+=</span><span class=w> </span><span class=s>&#34;123&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>func</span><span class=w> </span><span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>person</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>Person</span><span class=p>{}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>person</span><span class=p>.</span><span class=nx>Name</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=s>&#34;tomyli&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>Person</span><span class=p>.</span><span class=nf>Print</span><span class=p>(</span><span class=nx>person</span><span class=p>))</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>aPerson</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>person1</span><span class=p>.</span><span class=nx>Names</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nf>aPerson</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><blockquote><p>一个以方法的reciver参数作为第一个参数的普通函数</p></blockquote><h3 id=继承>继承<a hidden class=anchor aria-hidden=true href=#继承>#</a></h3><ol><li>不支持继承，支持复合</li><li>匿名类型嵌入</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>type</span><span class=w> </span><span class=nx>S</span><span class=w> </span><span class=kd>struct</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>io</span><span class=p>.</span><span class=nx>Reader</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>str</span><span class=w> </span><span class=kt>string</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>func</span><span class=w> </span><span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>r</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>strings</span><span class=p>.</span><span class=nf>NewReader</span><span class=p>(</span><span class=s>&#34;hello, tomy&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>s</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>S</span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nx>Reader</span><span class=p>:</span><span class=w> </span><span class=nx>r</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nx>str</span><span class=p>:</span><span class=w> </span><span class=s>&#34;world&#34;</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>var</span><span class=w> </span><span class=nx>sl</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nb>make</span><span class=p>([]</span><span class=kt>byte</span><span class=p>,</span><span class=w> </span><span class=nb>len</span><span class=p>(</span><span class=s>&#34;hello, tomy&#34;</span><span class=p>))</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>s</span><span class=p>.</span><span class=nx>Reader</span><span class=p>.</span><span class=nf>Read</span><span class=p>(</span><span class=nx>sl</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>s</span><span class=p>.</span><span class=nf>Read</span><span class=p>(</span><span class=nx>sl</span><span class=p>)</span><span class=w> </span><span class=cp>//here like extends</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><p>用继承来做什么，go如何实现继承</p><h3 id=接口>接口<a hidden class=anchor aria-hidden=true href=#接口>#</a></h3><ol><li>Duck Type式</li><li>可定义非导出方法</li></ol><h4 id=定义与实现>定义与实现<a hidden class=anchor aria-hidden=true href=#定义与实现>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>type</span><span class=w> </span><span class=nx>MyInterface</span><span class=w> </span><span class=kd>interface</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nf>M1</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>type</span><span class=w> </span><span class=nx>T</span><span class=w> </span><span class=kt>int</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>func</span><span class=w> </span><span class=p>(</span><span class=nx>T</span><span class=p>)</span><span class=w> </span><span class=nf>M1</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;T&#39;s M1&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>func</span><span class=w> </span><span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>var</span><span class=w> </span><span class=nx>t</span><span class=w> </span><span class=nx>T</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>t</span><span class=p>.</span><span class=nf>M1</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><p>var mi MyInterface = t
t, ok := mi.(T)
fmt.Println(t, ok)</p><h4 id=判断接口类型>判断接口类型<a hidden class=anchor aria-hidden=true href=#判断接口类型>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>var</span><span class=w> </span><span class=nx>a</span><span class=w> </span><span class=kt>int64</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=mi>10</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>var</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=kd>interface</span><span class=p>{}</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>a</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>v1</span><span class=p>,</span><span class=w> </span><span class=nx>ok</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>i</span><span class=p>.(</span><span class=kt>int64</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;v1 type is %T&#34;</span><span class=p>,</span><span class=w> </span><span class=nx>v1</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;v1 type is int64? %t&#34;</span><span class=p>,</span><span class=w> </span><span class=nx>ok</span><span class=p>)</span><span class=w>
</span></span></span></code></pre></div><p>类型为接口类型时，ok为true, v1为真正的类型</p><h4 id=空接口>空接口<a hidden class=anchor aria-hidden=true href=#空接口>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>var</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=kd>interface</span><span class=p>{}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>// go 1.18</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>// var i any</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>i</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>i</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=mi>1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>i</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>i</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=s>&#34;hello&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>i</span><span class=p>)</span><span class=w>
</span></span></span></code></pre></div><h3 id=错误与异常>错误与异常<a hidden class=anchor aria-hidden=true href=#错误与异常>#</a></h3><ol><li>错误统一用error代表</li><li>异常使用panic()</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=nx>err</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>errors</span><span class=p>.</span><span class=nf>New</span><span class=p>(</span><span class=s>&#34;this is an error&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>err1</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Errorf</span><span class=p>(</span><span class=s>&#34;this is an error %w&#34;</span><span class=p>,</span><span class=w> </span><span class=nx>err</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>err2</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Errorf</span><span class=p>(</span><span class=s>&#34;this is an error %w&#34;</span><span class=p>,</span><span class=w> </span><span class=nx>err1</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>err</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>err1</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>err2</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>errors</span><span class=p>.</span><span class=nf>Is</span><span class=p>(</span><span class=nx>err1</span><span class=p>,</span><span class=w> </span><span class=nx>err</span><span class=p>))</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>errors</span><span class=p>.</span><span class=nf>Is</span><span class=p>(</span><span class=nx>err2</span><span class=p>,</span><span class=w> </span><span class=nx>err</span><span class=p>))</span><span class=w>
</span></span></span></code></pre></div><h4 id=panic>panic<a hidden class=anchor aria-hidden=true href=#panic>#</a></h4><ol><li>在go运行时触发</li><li>通过 <strong>panic()</strong> 触发</li><li>导致程序崩溃</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span><span class=w> </span><span class=nx>main</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>func</span><span class=w> </span><span class=nf>foo</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;foo start&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nb>panic</span><span class=p>(</span><span class=s>&#34;no no no&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;foo end&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>func</span><span class=w> </span><span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;main start&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nf>foo</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;main end&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><h4 id=recover>recover<a hidden class=anchor aria-hidden=true href=#recover>#</a></h4><p>异常恢复</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span><span class=w> </span><span class=nx>main</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>func</span><span class=w> </span><span class=nf>foo</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>defer</span><span class=w> </span><span class=kd>func</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=nx>r</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nb>recover</span><span class=p>();</span><span class=w> </span><span class=nx>r</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>nil</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;got panic&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;foo start&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nb>panic</span><span class=p>(</span><span class=s>&#34;no no no&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;foo end&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>func</span><span class=w> </span><span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;main start&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nf>foo</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;main end&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><p>异常恢复的代码要放在最上面可运行的地方</p><h2 id=工程化>工程化<a hidden class=anchor aria-hidden=true href=#工程化>#</a></h2><h3 id=包>包<a hidden class=anchor aria-hidden=true href=#包>#</a></h3><h4 id=包是go语言的基本组成单元-通常使用小写单词命名>包是go语言的基本组成单元，通常使用小写单词命名<a hidden class=anchor aria-hidden=true href=#包是go语言的基本组成单元-通常使用小写单词命名>#</a></h4><h4 id=整个工程只允许有一个main包>整个工程只允许有一个main包<a hidden class=anchor aria-hidden=true href=#整个工程只允许有一个main包>#</a></h4><h4 id=首字母大写的标识符才是包外可见的>首字母大写的标识符才是包外可见的<a hidden class=anchor aria-hidden=true href=#首字母大写的标识符才是包外可见的>#</a></h4><h4 id=输出的包分为可执行包与库类型包>输出的包分为可执行包与库类型包<a hidden class=anchor aria-hidden=true href=#输出的包分为可执行包与库类型包>#</a></h4><h4 id=go-dot-mod>go.mod<a hidden class=anchor aria-hidden=true href=#go-dot-mod>#</a></h4><p>定义模块名，go版本，依赖包信息</p><figure><img loading=lazy src=/ox-hugo/go.mod-config.jpg width=50% height=50%></figure><blockquote><p>go.sum与go.mod中对应的md5信息，保证开发版本一致</p></blockquote><h3 id=工程根目录为go-dot-mod文件所在的目录>工程根目录为go.mod文件所在的目录<a hidden class=anchor aria-hidden=true href=#工程根目录为go-dot-mod文件所在的目录>#</a></h3><figure><img loading=lazy src=/ox-hugo/go.mod-module.jpg></figure><h3 id=资源释放>资源释放<a hidden class=anchor aria-hidden=true href=#资源释放>#</a></h3><h4 id=defer>defer<a hidden class=anchor aria-hidden=true href=#defer>#</a></h4><ol><li>用于资源清理</li><li>定义的方法执行时先进后出</li><li>defer代码执行时，参数就会被绑定</li><li>defer可以读取命名返回值</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span><span class=w> </span><span class=nx>main</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>func</span><span class=w> </span><span class=nf>ReleaseCon</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;%+v\n&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;release connection&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>func</span><span class=w> </span><span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>defer</span><span class=w> </span><span class=kd>func</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;%+v\n&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;hello&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>defer</span><span class=w> </span><span class=nf>ReleaseCon</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;%+v\n&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;start&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><h2 id=并发>并发<a hidden class=anchor aria-hidden=true href=#并发>#</a></h2><p>位于 <strong>sync</strong> 包下</p><ol><li>Mutex 互斥锁</li><li>RWMutex 互斥读写锁</li><li>WaitGroup 等待多个任务完成</li><li>Cond 条件变量</li><li>Map 并发安全的Map</li><li>Once 只执行一次</li></ol><h3 id=channel>Channel<a hidden class=anchor aria-hidden=true href=#channel>#</a></h3><p>用于goroutine之间通信</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>var</span><span class=w> </span><span class=nx>ch</span><span class=w> </span><span class=kd>chan</span><span class=w> </span><span class=kt>int</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>ch1</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nb>make</span><span class=p>(</span><span class=kd>chan</span><span class=w> </span><span class=kt>int</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>bufch</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nb>make</span><span class=p>(</span><span class=kd>chan</span><span class=w> </span><span class=kt>int</span><span class=p>,</span><span class=w> </span><span class=mi>10</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;%+v, type is %T \n&#34;</span><span class=p>,</span><span class=w> </span><span class=nx>ch</span><span class=p>,</span><span class=w> </span><span class=nx>ch</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;%+v, type is %T \n&#34;</span><span class=p>,</span><span class=w> </span><span class=nx>ch1</span><span class=p>,</span><span class=w> </span><span class=nx>ch1</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;%+v, type is %T \n&#34;</span><span class=p>,</span><span class=w> </span><span class=nx>bufch</span><span class=p>,</span><span class=w> </span><span class=nx>bufch</span><span class=p>)</span><span class=w>
</span></span></span></code></pre></div><p>后续对并发进行单独分享</p><h2 id=泛型>泛型<a hidden class=anchor aria-hidden=true href=#泛型>#</a></h2><p>GO1.18 新特性</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span><span class=w> </span><span class=nx>main</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>type</span><span class=w> </span><span class=nx>ordered</span><span class=w> </span><span class=kd>interface</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>~</span><span class=kt>int</span><span class=w> </span><span class=p>|</span><span class=w> </span><span class=p>~</span><span class=kt>int8</span><span class=w> </span><span class=p>|</span><span class=w> </span><span class=p>~</span><span class=kt>int16</span><span class=w> </span><span class=p>|</span><span class=w> </span><span class=p>~</span><span class=kt>int32</span><span class=w> </span><span class=p>|</span><span class=w> </span><span class=p>~</span><span class=kt>int64</span><span class=w> </span><span class=p>|</span><span class=w> </span><span class=p>~</span><span class=kt>uint</span><span class=w> </span><span class=p>|</span><span class=w> </span><span class=p>~</span><span class=kt>uint8</span><span class=w> </span><span class=p>|</span><span class=w> </span><span class=p>~</span><span class=kt>uint16</span><span class=w> </span><span class=p>|</span><span class=w> </span><span class=p>~</span><span class=kt>uint32</span><span class=w> </span><span class=p>|</span><span class=w> </span><span class=p>~</span><span class=kt>uint64</span><span class=w> </span><span class=p>|</span><span class=w> </span><span class=p>~</span><span class=kt>uintptr</span><span class=w> </span><span class=p>|</span><span class=w> </span><span class=p>~</span><span class=kt>float32</span><span class=w> </span><span class=p>|</span><span class=w> </span><span class=p>~</span><span class=kt>float64</span><span class=w> </span><span class=p>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>~</span><span class=kt>string</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>type</span><span class=w> </span><span class=nx>mystring</span><span class=w> </span><span class=kt>string</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>func</span><span class=w> </span><span class=nx>maxGeneric</span><span class=p>[</span><span class=nx>T</span><span class=w> </span><span class=nx>ordered</span><span class=p>](</span><span class=nx>sl</span><span class=w> </span><span class=p>[]</span><span class=nx>T</span><span class=p>)</span><span class=w> </span><span class=nx>T</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=nb>len</span><span class=p>(</span><span class=nx>sl</span><span class=p>)</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=mi>0</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nb>panic</span><span class=p>(</span><span class=s>&#34;empty input&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>max</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>sl</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=nx>_</span><span class=p>,</span><span class=w> </span><span class=nx>v</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=k>range</span><span class=w> </span><span class=nx>sl</span><span class=p>[</span><span class=mi>1</span><span class=p>:]</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=nx>v</span><span class=w> </span><span class=p>&gt;</span><span class=w> </span><span class=nx>max</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nx>max</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>v</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=nx>max</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>func</span><span class=w> </span><span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;%d\n&#34;</span><span class=p>,</span><span class=w> </span><span class=nf>maxGeneric</span><span class=p>([]</span><span class=kt>int</span><span class=p>{</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>}))</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;%s\n&#34;</span><span class=p>,</span><span class=w> </span><span class=nf>maxGeneric</span><span class=p>([]</span><span class=kt>string</span><span class=p>{</span><span class=s>&#34;a&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;b&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;c&#34;</span><span class=p>}))</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;%s\n&#34;</span><span class=p>,</span><span class=w> </span><span class=nf>maxGeneric</span><span class=p>([]</span><span class=nx>mystring</span><span class=p>{</span><span class=s>&#34;a&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;b&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;c&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;d&#34;</span><span class=p>}))</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><h2 id=测试>测试<a hidden class=anchor aria-hidden=true href=#测试>#</a></h2><p>Testing包</p><ol><li>文件名以 <strong>_test</strong> 结尾</li><li>支持单元测试与性能基准测试</li></ol><h3 id=单元测试>单元测试<a hidden class=anchor aria-hidden=true href=#单元测试>#</a></h3><ol><li>单元测试方法以 <strong>Test</strong> 开头</li><li>使用命令 <strong>go test</strong> 执行</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span><span class=w> </span><span class=nx>hellotest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>func</span><span class=w> </span><span class=nf>TestHello</span><span class=p>(</span><span class=nx>t</span><span class=w> </span><span class=o>*</span><span class=nx>testing</span><span class=p>.</span><span class=nx>T</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>t</span><span class=p>.</span><span class=nf>Log</span><span class=p>(</span><span class=s>&#34;this is a test&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><h3 id=性能基准测试>性能基准测试<a hidden class=anchor aria-hidden=true href=#性能基准测试>#</a></h3><ol><li>性能基准测试以 <strong>Benchmark</strong> 开头</li><li>使用 <strong>go test -bench=.</strong> 执行</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span><span class=w> </span><span class=nx>hellotest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>func</span><span class=w> </span><span class=nf>BenchmarkHello</span><span class=p>(</span><span class=nx>b</span><span class=w> </span><span class=o>*</span><span class=nx>testing</span><span class=p>.</span><span class=nx>B</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=p>&lt;</span><span class=w> </span><span class=nx>b</span><span class=p>.</span><span class=nx>N</span><span class=p>;</span><span class=w> </span><span class=nx>i</span><span class=o>++</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;hello&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><h2 id=常用go命令>常用GO命令<a hidden class=anchor aria-hidden=true href=#常用go命令>#</a></h2><ul><li>go version</li><li>go build</li><li>go run</li><li>go install</li><li>go mod<ul><li>go mod init</li><li>go mod tidy</li></ul></li><li>go doc</li><li>go work</li><li>go help</li></ul><h2 id=常用内建包>常用内建包<a hidden class=anchor aria-hidden=true href=#常用内建包>#</a></h2><ul><li><a href=https://pkg.go.dev/fmt>fmt</a></li><li>strings</li><li>strconv</li><li>time</li><li>os</li><li>errors</li></ul><h2 id=最佳实践>最佳实践<a hidden class=anchor aria-hidden=true href=#最佳实践>#</a></h2><h3 id=error-类型返回值放在返回值列表的末尾>error 类型返回值放在返回值列表的末尾<a hidden class=anchor aria-hidden=true href=#error-类型返回值放在返回值列表的末尾>#</a></h3><figure><img loading=lazy src=/ox-hugo/go-func-error.jpg></figure><blockquote><p>$GOPATH/src/net/http/server.go</p></blockquote><h3 id=接收接口-返回结构体>接收接口，返回结构体<a hidden class=anchor aria-hidden=true href=#接收接口-返回结构体>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=c1>// NewCond returns a new Cond with Locker l.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>func</span><span class=w> </span><span class=nf>NewCond</span><span class=p>(</span><span class=nx>l</span><span class=w> </span><span class=nx>Locker</span><span class=p>)</span><span class=w> </span><span class=o>*</span><span class=nx>Cond</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=o>&amp;</span><span class=nx>Cond</span><span class=p>{</span><span class=nx>L</span><span class=p>:</span><span class=w> </span><span class=nx>l</span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><blockquote><p>$GOPATH/src/sync/cond.go</p></blockquote><h3 id=发现接口而不是提前进行抽象>发现接口而不是提前进行抽象<a hidden class=anchor aria-hidden=true href=#发现接口而不是提前进行抽象>#</a></h3><p>非必要不抽象</p><h3 id=泛型的使用>泛型的使用<a hidden class=anchor aria-hidden=true href=#泛型的使用>#</a></h3><ul><li>类型参数名的首字母通常采用大写形式，并且类型参数必须是具名的</li><li>使用类型参数的原因是它们让你的代码更清晰，如果它们会让你的代码变得更复杂，就不要使用</li></ul><h2 id=ref>REF<a hidden class=anchor aria-hidden=true href=#ref>#</a></h2><p><a href=https://blog.go-zh.org/gos-declaration-syntax>https://blog.go-zh.org/gos-declaration-syntax</a></p><p><a href=https://colobu.com/>https://colobu.com/</a></p><h2 id=end>END<a hidden class=anchor aria-hidden=true href=#end>#</a></h2></div><footer class=post-footer><ul class=post-tags><li><a href=http://blog.imcompany.cn/tags/go/>Go</a></li></ul><nav class=paginav><a class=prev href=http://blog.imcompany.cn/post/go-compile-source-code/><span class=title>« Prev</span><br><span>MAC本地编译go源码记录</span>
</a><a class=next href=http://blog.imcompany.cn/post/system-ipc/><span class=title>Next »</span><br><span>性能的本质IPC之动手验证</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share GO语言学习与分享-入门篇 on x" href="https://x.com/intent/tweet/?text=GO%e8%af%ad%e8%a8%80%e5%ad%a6%e4%b9%a0%e4%b8%8e%e5%88%86%e4%ba%ab-%e5%85%a5%e9%97%a8%e7%af%87&amp;url=http%3a%2f%2fblog.imcompany.cn%2fpost%2flearn-go%2f&amp;hashtags=go"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share GO语言学习与分享-入门篇 on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http%3a%2f%2fblog.imcompany.cn%2fpost%2flearn-go%2f&amp;title=GO%e8%af%ad%e8%a8%80%e5%ad%a6%e4%b9%a0%e4%b8%8e%e5%88%86%e4%ba%ab-%e5%85%a5%e9%97%a8%e7%af%87&amp;summary=GO%e8%af%ad%e8%a8%80%e5%ad%a6%e4%b9%a0%e4%b8%8e%e5%88%86%e4%ba%ab-%e5%85%a5%e9%97%a8%e7%af%87&amp;source=http%3a%2f%2fblog.imcompany.cn%2fpost%2flearn-go%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share GO语言学习与分享-入门篇 on reddit" href="https://reddit.com/submit?url=http%3a%2f%2fblog.imcompany.cn%2fpost%2flearn-go%2f&title=GO%e8%af%ad%e8%a8%80%e5%ad%a6%e4%b9%a0%e4%b8%8e%e5%88%86%e4%ba%ab-%e5%85%a5%e9%97%a8%e7%af%87"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share GO语言学习与分享-入门篇 on facebook" href="https://facebook.com/sharer/sharer.php?u=http%3a%2f%2fblog.imcompany.cn%2fpost%2flearn-go%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share GO语言学习与分享-入门篇 on whatsapp" href="https://api.whatsapp.com/send?text=GO%e8%af%ad%e8%a8%80%e5%ad%a6%e4%b9%a0%e4%b8%8e%e5%88%86%e4%ba%ab-%e5%85%a5%e9%97%a8%e7%af%87%20-%20http%3a%2f%2fblog.imcompany.cn%2fpost%2flearn-go%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share GO语言学习与分享-入门篇 on telegram" href="https://telegram.me/share/url?text=GO%e8%af%ad%e8%a8%80%e5%ad%a6%e4%b9%a0%e4%b8%8e%e5%88%86%e4%ba%ab-%e5%85%a5%e9%97%a8%e7%af%87&amp;url=http%3a%2f%2fblog.imcompany.cn%2fpost%2flearn-go%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentColor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share GO语言学习与分享-入门篇 on ycombinator" href="https://news.ycombinator.com/submitlink?t=GO%e8%af%ad%e8%a8%80%e5%ad%a6%e4%b9%a0%e4%b8%8e%e5%88%86%e4%ba%ab-%e5%85%a5%e9%97%a8%e7%af%87&u=http%3a%2f%2fblog.imcompany.cn%2fpost%2flearn-go%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer></article></main><footer class=footer><span>&copy; 2026 <a href=http://blog.imcompany.cn/>I'm company</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");if(menu){const e=localStorage.getItem("menu-scroll-position");e&&(menu.scrollLeft=parseInt(e,10)),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{const e=document.querySelector("html");e.dataset.theme==="dark"?(e.dataset.theme="light",localStorage.setItem("pref-theme","light")):(e.dataset.theme="dark",localStorage.setItem("pref-theme","dark"))})</script></body></html>