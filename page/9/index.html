<!doctype html><html lang=en dir=auto data-theme=auto><head><meta name=generator content="Hugo 0.154.5"><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>I'm company</title><meta name=keywords content="Java,Tool,Emacs,Mac"><meta name=description content="Everyone is a company."><meta name=author content="Me"><link rel=canonical href=http://blog.imcompany.cn/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.da3211e5ef867bf2b75fd5a6515cfed7195c011e8ab735694e203810a827097b.css integrity="sha256-2jIR5e+Ge/K3X9WmUVz+1xlcAR6KtzVpTiA4EKgnCXs=" rel="preload stylesheet" as=style><link rel=icon href=http://blog.imcompany.cn/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=http://blog.imcompany.cn/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=http://blog.imcompany.cn/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=http://blog.imcompany.cn/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=http://blog.imcompany.cn/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=http://blog.imcompany.cn/index.xml title=rss><link rel=alternate type=application/json href=http://blog.imcompany.cn/index.json title=json><link rel=alternate hreflang=en href=http://blog.imcompany.cn/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51);color-scheme:dark}.list{background:var(--theme)}.toc{background:var(--entry)}}@media(prefers-color-scheme:light){.list::-webkit-scrollbar-thumb{border-color:var(--code-bg)}}</style></noscript><script>localStorage.getItem("pref-theme")==="dark"?document.querySelector("html").dataset.theme="dark":localStorage.getItem("pref-theme")==="light"?document.querySelector("html").dataset.theme="light":window.matchMedia("(prefers-color-scheme: dark)").matches?document.querySelector("html").dataset.theme="dark":document.querySelector("html").dataset.theme="light"</script><meta property="og:url" content="http://blog.imcompany.cn/"><meta property="og:site_name" content="I'm company"><meta property="og:title" content="I'm company"><meta property="og:description" content="Everyone is a company."><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:image" content="http://blog.imcompany.cn/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="http://blog.imcompany.cn/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="I'm company"><meta name=twitter:description content="Everyone is a company."><script type=application/ld+json>{"@context":"https://schema.org","@type":"Organization","name":"I'm company","url":"http://blog.imcompany.cn/","description":"Everyone is a company.","logo":"http://blog.imcompany.cn/%3Clink%20/%20abs%20url%3E","sameAs":["https://x.com/","peng051410@126.com","https://github.com/peng051410"]}</script></head><body class=list id=top><header class=header><nav class=nav><div class=logo><a href=http://blog.imcompany.cn/ accesskey=h title="Home (Alt + H)"><img src=http://blog.imcompany.cn/apple-touch-icon.png alt aria-label=logo height=35>Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=http://blog.imcompany.cn/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=http://blog.imcompany.cn/categories/ title=Categories><span>Categories</span></a></li><li><a href=http://blog.imcompany.cn/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://github.com/peng051410/today_i_learn title=Til><span>Til</span>&nbsp;
<svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ul></nav></header><main class=main><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Apolloä¸æ›´æ–°é…ç½®äº†ï¼Ÿ</h2></header><div class=entry-content><p>é—®é¢˜æè¿° è¿‘æœŸæ”¹é€ æœåŠ¡è°ƒç”¨ï¼Œéœ€è¦ä½¿ç”¨Apolloé…ç½®è¿›è¡Œçµæ´»åˆ‡æ¢ï¼Œä¸Šçº¿åå‘ç°æœ‰äº›æœºå™¨é…ç½®ç”Ÿæ•ˆï¼Œæœ‰äº›é…ç½®æœªç”Ÿæ•ˆï¼Œå¼€å‘å°ä¼™ä¼´åé¦ˆæ­¤é—®é¢˜å‘ç”Ÿæœ‰ä¸€æ®µæ—¶é—´
é—®é¢˜æ’æŸ¥ æœºå™¨æ’æŸ¥ å¯¹çº¿ä¸Šæœºå™¨è¿›è¡Œæ’æŸ¥ï¼Œå‘ç°æœ‰å‡ å°æœºå™¨æ ¹æœ¬æ²¡æœ‰æ‹‰å–æ–°çš„åº”ç”¨é…ç½®
æŒ‡å®šé—®é¢˜æœºå™¨ä¿¡æ¯ è¿›å…¥åˆ°é—®é¢˜æœºå™¨æŸ¥çœ‹æœ¬åœ°Apolloæ–‡ä»¶ä¿¡æ¯
... -rw-rw-r-- 1 mqq mqq 3429 May 19 15:32 main-webapp+default+CoopReader.baipai.switch.properties -rw-r--r-- 1 mqq mqq 1621 Jul 4 15:39 main-webapp+default+CoopReader.switcher.properties -rw-r--r-- 1 mqq mqq 89 Aug 26 11:18 main-webapp+default+CoopReader.personal.menu.properties -rw-r--r-- 1 mqq mqq 3958 Aug 26 15:45 main-webapp+default+CoopReader.common.config.propertie å¯ä»¥çœ‹åˆ°æ–‡ä»¶çš„æœ€æ–°æ—¥æœŸåœ¨8æœˆ26æ—¥
Apollo æœåŠ¡çš„é—®é¢˜? å…ˆå‰å°ä¼™ä¼´ååº”é—®è¿‡è¿ç»´ç›¸å…³é—®é¢˜ï¼Œå¾—åˆ°çš„ç»“è®ºæ˜¯Apolloæ²¡æœ‰æ”¹åŠ¨ï¼Œä¸”æœåŠ¡é…ç½®ä¸æ˜¯å®Œå…¨ä¸å¯ç”¨ï¼Œæ­¤æ–¹å‘æ’é™¤
æœåŠ¡çš„é—®é¢˜? ä»ç›®å‰å¾—åˆ°çš„ä¿¡æ¯å¯ä»¥ç¡®è®¤æ˜¯æŸå‡ å°æœºå™¨ä¸Šçš„Apollo clientæ²¡æœ‰å»æ‹‰å–æœ€æ–°çš„é…ç½®ä¿¡æ¯
ä¸ºä»€ä¹ˆæ²¡æœ‰æ‹‰å–åˆ°æœ€æ–°é…ç½®? å…ˆæ¥æ¢³ç†ä¸€ä¸‹Apolloçš„ä½¿ç”¨æµç¨‹:
ä¸šåŠ¡å¯¹Apolloçš„è®¿é—®éƒ½åŸºäº L5 çš„æ–¹å¼ ç›®å‰ä¸šåŠ¡å·¥ç¨‹ä½¿ç”¨cloudlevel5.Protocolæ¥è·å–L5çš„ä¿¡æ¯ä¸Apollo Portalè¿›è¡Œäº¤äº’ &lt;dependency> &lt;groupId>com.yuewen&lt;/groupId> &lt;artifactId>userbase-l5-system&lt;/artifactId> &lt;version>1.0.3.Final&lt;/version> &lt;/dependency> ä¸ºä»€ä¹ˆä¸šåŠ¡æœºæ²¡æœ‰ä¸Apollo portaläº¤äº’? æ€€ç–‘ä¸å‡ºé—®é¢˜çš„æœºå™¨è·å–ä¸åˆ°L5ä¿¡æ¯æœ‰å…³
é—®é¢˜çŒœæµ‹éªŒè¯ å¤§ä½“çŸ¥é“é—®é¢˜å‡ºåœ¨å“ªäº†ï¼Œä¸‹é¢å°±éœ€è¦è¿›è¡ŒéªŒè¯äº†ã€‚æœ€ç®€å•çš„æ–¹å¼å°±æ˜¯æ‰“å°å‡ºApolloçš„ç›¸å…³æ—¥å¿—ä¿¡æ¯å¯¹çŒœæµ‹è¿›è¡ŒéªŒè¯ï¼Œä½†æ˜¯ç›®å‰ä¸šåŠ¡çš„æ—¥å¿—çº§åˆ«è®¾ç½®çš„ ERROR ï¼Œå•¥ä¹Ÿçœ‹ä¸åˆ°
ä¿®æ”¹ä¸šåŠ¡æ—¥å¿—çº§åˆ«? ç°åœ¨éœ€è¦æ‰“å°apllloç›¸å…³çš„æ—¥å¿—çº§åˆ«ä¸º Info ï¼Œéœ€è¦ä¿®æ”¹Logbackä¸­é…ç½®å¦‚ä¸‹ï¼š
&lt;logger name="com.ctrip.framework.apollo" level="info"/> ä½†æ˜¯è¿˜æ˜¯éœ€è¦å‘ç‰ˆæœ¬ä¸Šçº¿ï¼Œæœªå…å¤ªéº»çƒ¦ï¼Œæœ‰æ²¡æœ‰å…¶å®ƒåŠæ³•ï¼Ÿ
ArthasåŠ¨æ€ä¿®æ”¹æ—¥å¿—çº§åˆ« ç°åœ¨å·²ç»æœ‰éå¸¸æˆç†Ÿçš„çº¿ä¸Šè°ƒè¯•å·¥å…·äº†ï¼ŒArthaså°±èƒ½å®ç°å¯¹Logbackçš„åŠ¨æ€æ—¥å¿—ä¿®æ”¹ï¼ŒäºŒè¯ä¸è¯´ï¼Œç›´æ¥æœºå™¨ä¸Šä¿®æ”¹éªŒè¯
åœ¨é—®é¢˜æœºå™¨ä¸Šå¯åŠ¨arthas java -jar arthas-boot.jar é€‰æ‹©è¦å¤„ç†çš„åº”ç”¨(10384)è¿›å…¥åˆ°arthas
...</p></div><footer class=entry-footer><span title='2022-09-16 15:22:00 +0800 CST'>September 16, 2022</span>&nbsp;Â·&nbsp;<span>1 min</span>&nbsp;Â·&nbsp;<span>208 words</span>&nbsp;Â·&nbsp;<span>tomyli</span></footer><a class=entry-link aria-label="post link to Apolloä¸æ›´æ–°é…ç½®äº†ï¼Ÿ" href=http://blog.imcompany.cn/post/apollo-work-issue/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>é‚£äº›é«˜æ•ˆçš„VSCodeæ’ä»¶</h2></header><div class=entry-content><p>å¿…å¤‡ vscodevim.vim åœ¨VSCodeä¸­ä½¿ç”¨VIM
angelo-breuer.clock åœ¨çŠ¶æ€æ å¢åŠ æ—¶é—´æ˜¾ç¤º
redguardtoo.matchit TagåŒ¹é…ï¼Œåœ¨ä»£ç ç»“æ„ä¸­å¿«é€Ÿè·³è½¬
kahole.magit ç±»Emacs magit
chadalen.vscode-jetbrains-icon-theme ç±»JetBrainsçš„æ–‡ä»¶å›¾æ ‡
codezombiech.gitignore .ignoreæ–‡ä»¶æ”¯æŒ
wmaurer.change-case å¿«é€Ÿåˆ‡æ¢é€‰æ‹©å•è¯çš„æ ¼å¼ï¼Œæ”¯æŒé©¼å³°ï¼Œå¤§å°å†™ç­‰
lucax88x.codeacejumper å¿«é€Ÿè·³è½¬åˆ°æŒ‡å®šå­—ç¬¦
NTBBloodbath.doom-one ç±»Emacs doom-oneä¸»é¢˜
geeebe.duplicate å¤åˆ¶å½“å‰å…‰æ ‡ä¸­çš„è¡Œï¼ŒVSCodeé»˜è®¤è¡Œä¸ºå¢å¼º
usernamehw.errorlens VSCodeé”™è¯¯æç¤ºå¢å¼º
zerodind.familiar-java-themes ç±»Ideaä¸»é¢˜
vsls-contrib.gistfs Github gistå¿«é€ŸæŸ¥çœ‹ä¸ç¼–è¾‘
qezhu.gitlink å¤åˆ¶å½“å‰æ–‡ä»¶çš„ä»“åº“åœ°å€
trixnz.go-to-method è·³è½¬åˆ°æŒ‡å®šæ–¹æ³•ï¼Œä¸åŒ…æ¢å…¶å®ƒSymbolä¿¡æ¯
YuTengjing.open-in-external-app ä½¿ç”¨å¤–éƒ¨åº”ç”¨æ‰“å¼€å½“å‰æ–‡ä»¶
tootone.org-mode Emacs org-modeå±€éƒ¨æ”¯æŒ
mushan.vscode-paste-image ç²˜è´´å›¾ç‰‡åˆ°Markdown
Shan.code-settings-sync VSCodeé…ç½®å¤šç»ˆç«¯åŒæ­¥
mybells.someone-github-stars è·å–æŒ‡å®šGithuberçš„Starå¹¶å†™å…¥åˆ°Markdown
TabNine.tabnine-vscode TabNine AIä»£ç å®Œæˆ
VSpaceCode.whichkey VSCodeæŒ‰é”®ä¿®æ”¹ä¸æç¤º
Office Viewer(Markdown Editor) - Visual Studio Marketplace Captured On: [2023-05-19 Fri 10:08]
...</p></div><footer class=entry-footer><span title='2022-09-05 17:45:00 +0800 CST'>September 5, 2022</span>&nbsp;Â·&nbsp;<span>1 min</span>&nbsp;Â·&nbsp;<span>162 words</span>&nbsp;Â·&nbsp;<span>tomyli</span></footer><a class=entry-link aria-label="post link to é‚£äº›é«˜æ•ˆçš„VSCodeæ’ä»¶" href=http://blog.imcompany.cn/post/vscode-plugin/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>ç”¨Riggrepè¿›è¡Œå¿«é€Ÿæœç´¢</h2></header><div class=entry-content><p>ä¸ºä»€ä¹ˆè¦å­¦ä¹ riggrep? Riggrepå¿« å¤©ä¸‹æ­¦åŠŸï¼Œå”¯å¿«ä¸ç ´
Riggrepèªæ˜ é»˜è®¤ä¼šæ’é™¤ .gitignore/.ignore/.rgignore æ–‡ä»¶ä¸‹çš„é…ç½®å’Œéšè—æ–‡ä»¶ã€äºŒè¿›åˆ¶æ–‡ä»¶
å®‰è£… brew install ripgrep ä½¿ç”¨è¯´æ˜ æ ·ä¾‹æ‰€æœ‰æ“ä½œä½¿ç”¨ study-sample ä»“åº“ï¼Œé‡Œé¢æ˜¯å¸¸ç”¨è¯­è¨€çš„å…¥é—¨å­¦ä¹ èµ„æºï¼Œæ“ä½œæ–‡æ¡£ç»“æ„å¦‚ä¸‹ï¼š
tree ~/github/study-sample /Users/tomyli/github/study-sample |-- LearnBash.sh |-- LearnJava.java |-- README.md |-- commonlisp.lisp |-- learn-emacs-lisp.el |-- learn.nix |-- learnc.c |-- learnclojure.clj |-- learngo.go |-- learnlua.lua |-- learnpython.py |-- learnrust.rs `-- markdown.md 0 directories, 13 files åŸºæœ¬ä½¿ç”¨ éå†æŸ¥è¯¢ ~/github/study-sample/ ä¸‹æ‰€æœ‰åŒ…å« TODO say hello å­—ç¬¦ä¸²çš„ç»“æœ
rg 'TODO say hello' ~/github/study-sample/ /Users/tomyli/github/study-sample/learnc.c:/* TODO say hello */ /Users/tomyli/github/study-sample/commonlisp.lisp:;; TODO say hello /Users/tomyli/github/study-sample/learnclojure.clj:;; TODO say hello /Users/tomyli/github/study-sample/learn-emacs-lisp.el:;; TODO say hello /Users/tomyli/github/study-sample/LearnBash.sh:# TODO say hello /Users/tomyli/github/study-sample/LearnJava.java: // TODO say hello /Users/tomyli/github/study-sample/learnrust.rs:// TODO say hello æŸ¥è¯¢åˆ°çš„ç»“æœä»¥ æ–‡ä»¶ ç»´åº¦è¿›è¡Œå±•ç¤ºï¼Œä½¿ç”¨ åˆ†å· è¿›è¡Œåˆ†å‰²ï¼Œåˆ†å·å‰ä¸ºæ–‡ä»¶è·¯å¾„ï¼Œåˆ†å·åä¸ºæŸ¥è¯¢åŒ¹é…åˆ°çš„å†…å®¹
...</p></div><footer class=entry-footer><span title='2022-08-30 20:01:00 +0800 CST'>August 30, 2022</span>&nbsp;Â·&nbsp;<span>3 min</span>&nbsp;Â·&nbsp;<span>552 words</span>&nbsp;Â·&nbsp;<span>tomyli</span></footer><a class=entry-link aria-label="post link to ç”¨Riggrepè¿›è¡Œå¿«é€Ÿæœç´¢" href=http://blog.imcompany.cn/post/ripgrep-study/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Springçš„RedisTemplateå¦‚ä½•ä¸Lettuceè¿›è¡Œäº¤äº’çš„</h2></header><div class=entry-content><p>é—®é¢˜ SpringWebFluxé¡¹ç›®ï¼Œä½¿ç”¨çš„Rediså®¢æˆ·ç«¯æ˜¯Lettuce(åŸºäºå¼‚æ­¥)ï¼Œåœ¨Springä¸­å°è£…äº†ä¸¤ç§æ“ä½œRedisçš„æ¨¡æ¿ RedisTemplate ä¸ ReactiveRedisTemplate ï¼Œæ­£å¸¸æƒ…å†µä¸‹ï¼Œå¼‚æ­¥ç¼–ç¨‹è¦ä½¿ç”¨ ReactiveRedisTemplate ï¼Œé‚£ä¹ˆå¯ä»¥åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ RedisTemplate è¿›è¡Œredisçš„æ“ä½œå—ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ
ç­”æ¡ˆ å¯ä»¥ä½¿ç”¨ RedisTemplate åœ¨å¼‚æ­¥ä»£ç ä¸­è¿›è¡Œæ“ä½œ
@Autowried private StringRedisTemplate redisTemplate; String value = redisTemplate.opsForValue().get(key); è¿½æ ¹æº¯æº å…ˆæ¥æ˜ç¡®ä¸€ä¸‹åº”ç”¨ä¸Redisçš„äº¤äº’æµç¨‹
Redisäº¤äº’æµç¨‹ è·å–è¿æ¥ æ‰§è¡Œå‘½ä»¤ è¿”å›ç»“æœ æºç è¿½è¸ª String value = redisTemplate.opsForValue().get(key); ä»¥ä¸‹ä»¥redisçš„getå‘½ä»¤ä¸ºä¾‹è¿›è¡Œè§£æï¼Œgetæ–¹æ³•æ˜¯é€šè¿‡ RedisTemplate çš„ ValueOperations å±æ€§è¿›è¡Œå¤„ç†çš„ï¼Œå› ä¸º ValueOperations æ˜¯ä¸€ä¸ªæ¥å£ï¼Œè¦ä»å…¶å®ç°ç±» DefaultValueOperations çš„getæ–¹æ³•è¿›è¡Œè§£æï¼Œç›´æ¥ä¸Šå›¾
Figure 1: æ•´ä½“æµç¨‹å›¾
å…³é”®ç‚¹è§£æ ç¬¬1-5æ­¥åªæ˜¯ä¸ºäº†è·å–Redisè¿æ¥
getConnectionæ˜¯ä¸ºäº†è·å–å…·ä½“çš„åº•å±‚rediså‘½ä»¤ï¼Œé¡¹ç›®ä½¿ç”¨Lettuceä¸”ä¸ºStringæ“ä½œï¼Œæ­¤å¤„è·å–çš„è¿æ¥ä¸º LettuceStringCommands
ç¬¬6æ­¥æ˜¯å‘½ä»¤æ‰§è¡Œè§¦å‘ç‚¹
å®ƒè°ƒç”¨äº†æ‰§è¡ŒDefaultValueOperations.execute(ValueDeserializingRedisCallback)æ–¹æ³•è°ƒç”¨æ—¶æ–¹æ³•å‚æ•°ValueDeserializingRedisCallbackçš„å®ç°æ–¹æ³•inRedisï¼Œç”±æ­¤è½¬å…¥åˆ°çœŸæ­£çš„å‘½ä»¤æ‰§è¡Œé˜¶æ®µ
ç¬¬9æ­¥è·å–API
LettuceConnectionè·å–çš„æ˜¯é€šè¿‡è°ƒç”¨StatefulConnection.async()æ–¹æ³•è·å–çš„å¼‚æ­¥API
ç¬¬12æ­¥è¿›è¡Œè¿”å›å¤„ç†
LettuceConnectionçš„doInvokeæ–¹æ³•è¿›è¡Œäº†LettuceInvokerçš„è¿”å›å¤„ç†ï¼Œåœ¨é‡Œé¢çœ‹åˆ°çš„æ˜¯è°ƒç”¨äº†feture.get()æ–¹æ³•ä½¿ç”¨ç­‰å¾…çš„æ–¹å¼æ¥å®ç°äº†å¼‚æ­¥è½¬åŒæ­¥çš„è°ƒç”¨
è·å–è¿æ¥é˜¶æ®µä¸æ‰§è¡Œå‘½ä»¤é˜¶æ®µå›¾ç¤º æ›´è¿‘ä¸€æ­¥ï¼Œå¯ä»¥æŠŠ è·å–è¿æ¥é˜¶æ®µ ä¸ æ‰§è¡Œå‘½ä»¤é˜¶æ®µ åˆ†å¼€æ¥ï¼Œçœ‹å›¾æ›´åŠ æ¸…æ™°
...</p></div><footer class=entry-footer><span title='2022-06-01 11:04:00 +0800 CST'>June 1, 2022</span>&nbsp;Â·&nbsp;<span>1 min</span>&nbsp;Â·&nbsp;<span>70 words</span>&nbsp;Â·&nbsp;<span>tomyli</span></footer><a class=entry-link aria-label="post link to Springçš„RedisTemplateå¦‚ä½•ä¸Lettuceè¿›è¡Œäº¤äº’çš„" href=http://blog.imcompany.cn/post/spring-redisttemplate-lettuce/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Springwebfluxæºç å­¦ä¹ -æœåŠ¡å¯åŠ¨æµç¨‹</h2></header><div class=entry-content><p>å­¦ä¹ ç›®æ ‡ ç†è§£WebFluxæ ¸å¿ƒç»„ä»¶HttpHandlerã€WebHandlerçš„åˆ›å»ºè¿‡ç¨‹ ç†è§£DispatcherHandlerå¦‚ä½•æ˜ å°„è¯·æ±‚urlåŠå‚æ•°çš„è¿‡ç¨‹ ç†è§£NettyæœåŠ¡çš„ä¸»è¦å¯åŠ¨èŠ‚ç‚¹ æ­¤æ¬¡å­¦ä¹ çš„Spring bootç‰ˆæœ¬ä¸º2.6.6ï¼Œå¯¹åº”çš„Spring webfluxç‰ˆæœ¬ä¸º5.3.18
å…¥å£ Springbootå·¥ç¨‹å…¥å£æ–¹æ³•ä¸º SpringApplication.run() ï¼Œä»æ­¤æ–¹æ³•å¼€å§‹è¿›è¡Œåˆ†æã€‚
public static void main(String[] args) { SpringApplication.run(Main.class, args); } å†³å®šå¯åŠ¨çš„webåº”ç”¨ç±»å‹ æ•´ä¸ªæœåŠ¡çš„webåº”ç”¨ç±»å‹æ˜¯åœ¨æ„é€  SpringApplication ç±»æ—¶è¿›è¡Œç¡®å®šçš„ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š
this.webApplicationType = WebApplicationType.deduceFromClasspath(); åˆ¤æ–­åº”ç”¨ç±»å‹çš„é€»è¾‘ org.springframework.web.reactive.DispatcherHandlerå­˜åœ¨ org.springframework.web.servlet.DispatcherServletä¸å­˜åœ¨ org.glassfish.jersey.servlet.ServletContainerä¸å­˜åœ¨ å³ç¡®è®¤webApplicationTypeä¸º Reactive
if (ClassUtils.isPresent(WEBFLUX_INDICATOR_CLASS, null) && !ClassUtils.isPresent(WEBMVC_INDICATOR_CLASS, null) && !ClassUtils.isPresent(JERSEY_INDICATOR_CLASS, null)) { return WebApplicationType.REACTIVE; } åˆ›å»ºå…·ä½“çš„ApplicationContext æ ¹æ®webApplicationType(Reactive)ç¡®å®šåˆ›å»ºçš„ApplicationContextä¸ºAnnotationConfigReactiveWebServerApplicationContextï¼Œæ­¤Contextæ”¯æŒ @Component å’Œ JSR-330è§„èŒƒä¸­ @Inject å½¢å¼çš„ä¾èµ–æ³¨è§£
SpringAplication.createApplicationContext() switch (webApplicationType) { case SERVLET: return new AnnotationConfigServletWebServerApplicationContext(); case REACTIVE: return new AnnotationConfigReactiveWebServerApplicationContext(); default: return new AnnotationConfigApplicationContext(); } æœ€ä¸»è¦çš„ApplicationContext.refresh()æ–¹æ³• refreshçš„Refreshé˜¶æ®µ åˆ·æ–°æ“ä½œæ˜¯åœ¨ AbstractApplicationContext ç±»çš„refreshæ–¹æ³•ä¸­è¿›è¡Œï¼Œåœ¨è°ƒç”¨invokeBeanFactoryPostProcessorsæ–¹æ³•æ—¶ä¼šæœ‰å¯¹controlleræ³¨è§£çš„æ‰«æä¸å¤„ç†
...</p></div><footer class=entry-footer><span title='2022-05-24 17:37:00 +0800 CST'>May 24, 2022</span>&nbsp;Â·&nbsp;<span>2 min</span>&nbsp;Â·&nbsp;<span>351 words</span>&nbsp;Â·&nbsp;<span>tomyli</span></footer><a class=entry-link aria-label="post link to Springwebfluxæºç å­¦ä¹ -æœåŠ¡å¯åŠ¨æµç¨‹" href=http://blog.imcompany.cn/post/springwebflux-start/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>å¼€å‘ä¸­ä¼šé‡åˆ°çš„Mavené—®é¢˜è§£æƒ‘</h2></header><div class=entry-content><p>å¤šæ¨¡å—ç³»ç»Ÿç‰ˆæœ¬æ§åˆ¶é—®é¢˜ åœ¨å¼€å‘æƒ³ä¿æŒé¡¹ç›®ä¸‹çš„æ‰€æœ‰å­æ¨¡å—ç‰ˆæœ¬ä¸€è‡´ï¼Œå¯ä»¥ä½¿ç”¨${rversion}å˜é‡
é…ç½®çˆ¶pom &lt;groupId>cn.imcompany&lt;/groupId> &lt;artifactId>big-parent&lt;/artifactId> &lt;version>${revision}&lt;/version> &lt;packaging>pom&lt;/packaging> &lt;modules> &lt;module>big-web&lt;/module> &lt;/modules> &lt;properties> &lt;revision>1.0.0&lt;/revision> &lt;/properties> å­æ¨¡å—é…ç½® &lt;parent> &lt;groupId>cn.imcompany&lt;/groupId> &lt;artifactId>big-parent&lt;/artifactId> &lt;version>${revision}&lt;/version> &lt;/parent> &lt;artifactId>big-web&lt;/artifactId> ä¿®æ”¹ç‰ˆæœ¬æ–¹å¼ ç›´æ¥ä¿®æ”¹revisionå˜é‡çš„å€¼ ä½¿ç”¨ mvn clean package -Drevision=1.1.0 è¿›è¡Œé…ç½® ä½¿ç”¨revisionåDeployæ“ä½œä¸æ˜¾ç¤ºæ­£ç¡®ç‰ˆæœ¬é—®é¢˜ éœ€è¦é…åˆ Flatten Maven Plugin å³å¯è§£å†³ï¼Œçˆ¶pomä¸­éœ€è¦å¢åŠ ä»¥ä¸‹é…ç½®ï¼š
&lt;build> &lt;plugins> &lt;plugin> &lt;groupId>org.codehaus.mojo&lt;/groupId> &lt;artifactId>flatten-maven-plugin&lt;/artifactId> &lt;version>1.2.2&lt;/version> &lt;configuration> &lt;updatePomFile>true&lt;/updatePomFile> &lt;/configuration> &lt;executions> &lt;execution> &lt;id>flatten&lt;/id> &lt;phase>process-resources&lt;/phase> &lt;goals> &lt;goal>flatten&lt;/goal> &lt;/goals> &lt;/execution> &lt;execution> &lt;id>flatten.clean&lt;/id> &lt;phase>clean&lt;/phase> &lt;goals> &lt;goal>clean&lt;/goal> &lt;/goals> &lt;/execution> &lt;/executions> &lt;/plugin> &lt;/plugins> &lt;/build> é…ç½®æŒ‡å®šé¡¹ç›®ä¸å‘å¸ƒåˆ°è¿œç¨‹ä»“åº“ åœ¨æ–°ç‰ˆæœ¬çš„deployæ’ä»¶å·²ç»æ”¯æŒé…ç½®ï¼Œé…ç½®skipå˜é‡å³å¯
&lt;plugin> &lt;groupId>org.apache.maven.plugins&lt;/groupId> &lt;artifactId>maven-deploy-plugin&lt;/artifactId> &lt;version>3.0.0-M2&lt;/version> &lt;configuration> &lt;skip>true&lt;/skip> &lt;/configuration> &lt;/plugin> Reference Maven: POM files without a version in it? - SoftwareEntwicklung Beratung Schulung</p></div><footer class=entry-footer><span title='2022-04-07 19:30:00 +0800 CST'>April 7, 2022</span>&nbsp;Â·&nbsp;<span>1 min</span>&nbsp;Â·&nbsp;<span>85 words</span>&nbsp;Â·&nbsp;<span>tomyli</span></footer><a class=entry-link aria-label="post link to å¼€å‘ä¸­ä¼šé‡åˆ°çš„Mavené—®é¢˜è§£æƒ‘" href=http://blog.imcompany.cn/post/maven-case/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Linuxä»£ç ç»“æ„å­¦ä¹ </h2></header><div class=entry-content><p>Linuxä»£ç ç»“æ„ å‡†å¤‡å­¦ä¹ Linuxï¼Œçœ‹æºç æ˜¯å°‘ä¸äº†çš„ï¼Œå…ˆå¯¹Linuxæºç æœ‰ä¸ªå¤§ä½“è®¤è¯†(åŸºäºlinux4.13)
ä»£ç ä¸»è¦æ–‡ä»¶è§£æ Makefile è¿™æ˜¯æ•´ä¸ªæºç çš„Makefileï¼Œé‡Œé¢å®šä¹‰äº†ä¸€ç³»åˆ—çš„å˜é‡å’Œè§„åˆ™ï¼Œæ¯”å¦‚é»˜è®¤çš„gccç¼–è¯‘flagã€‚
Documentation/ é¡¹ç›®æ–‡æ¡£ï¼Œé‡Œé¢åŒ…å«äº†å¾ˆå¤šå…³äºé…ç½®å†…æ ¸ã€ä¸ramdiskè¿è¡Œç­‰æœ‰ç”¨çš„ä¿¡æ¯ã€‚è¿™é‡Œé¢æ²¡æœ‰ä¸åŒé…ç½®é¡¹çš„å¸®åŠ©ä¿¡æ¯ï¼Œè¿™äº›ä¿¡æ¯å¯ä»¥åœ¨ç›¸å…³å­ç›®å½•çš„ Kconfig æ–‡ä»¶ä¸­æŸ¥çœ‹ã€‚
arch/ ä½“ç³»ç»“æ„ç›¸å…³ä»£ç éƒ½åœ¨è¿™é‡Œï¼Œè¿˜æœ‰ä¸€éƒ¨åˆ†åœ¨include/arch-genericä¸­ã€‚æ¯ä¸ªä½“ç³»ç»“æ„åœ¨è¿™ä¸ªç›®å½•ä¸‹éƒ½æœ‰ä¸€ä¸ªå­ç›®å½•ã€‚æ¯”å¦‚åŸºäºx86ä½“ç³»çš„ä»£ç éƒ½åœ¨ arch/x86 ä¸‹ã€‚å¦å¤–ï¼Œè¿™ä¸ªç›®å½•ä¸‹è¿˜åŒ…å«ä½çº§åˆ«çš„å†…å­˜ç®¡ç†ï¼Œä¸­æ–­å¤„ç†ï¼Œæ—©æœŸåˆå§‹åŒ–ï¼Œæ±‡ç¼–ä¾‹ç¨‹ç­‰ä¿¡æ¯ã€‚
crypto/ å†…æ ¸ä½¿ç”¨çš„åŠ å¯†APIä»£ç ã€‚
drivers/ æ‰€æœ‰è®¾å¤‡ç›¸å…³çš„ä¿¡æ¯éƒ½åœ¨è¿™ä¸ªç›®å½•ä¸‹ã€‚åŒ…æ‹¬è§†é¢‘è®¾å¤‡ï¼Œç½‘å¡è®¾å¤‡ï¼Œä½çº§åˆ«çš„SCSIè®¾å¤‡ã€‚æ¯”å¦‚ç½‘ç»œè®¾å¤‡ä¸€èˆ¬æ˜¯åœ¨ drivers/net ç›®å½•ä¸‹ã€‚
fs/ é€šç”¨çš„æ–‡ä»¶ç³»ç»Ÿä¸å…¶å®ƒç±»å‹çš„æ–‡ä»¶ç³»ç»Ÿä»£ç éƒ½åœ¨è¿™é‡Œã€‚ç°åœ¨çš„æ“ä½œç³»ç»Ÿçš„æ ¹æ–‡ä»¶ç³»ç»Ÿä¸€èˆ¬ä¸ºext4æ ¼å¼ï¼Œå®ƒçš„ä»£ç åœ¨ fs/ext4 ä¸‹
include/ æ‰€æœ‰.cæ–‡ä»¶ä¸­åŒ…å«çš„å¤´æ–‡ä»¶éƒ½å®šä¹‰åœ¨è¿™ä¸ªç›®å½•ä¸‹ã€‚
init/ è¿™ä¸ªç›®å½•åŒ…å«äº†å†…æ ¸å¯åŠ¨çš„å…¥å£æ–‡ä»¶ main.c ï¼Œç‰ˆæœ¬ä¿¡æ¯æ–‡ä»¶ version.c å’Œæ—©æœŸç”¨æˆ·ç©ºé—´ç›¸å…³çš„ä»£ç ï¼Œæ—©æœŸç©ºé—´ä»£ç æä¾›å†…æ ¸å‡ºç°æ—¶çš„åŠŸèƒ½ï¼Œå®ƒä¸éœ€è¦åœ¨å†…æ ¸ä¸­è¿›è¡Œè¿è¡Œã€‚
ipc/ è¿›ç¨‹é—´é€šä¿¡ç›¸å…³ä»£ç ï¼ŒåŒ…å«å…±äº«å†…å­˜ï¼Œä¿¡å·é‡ç­‰ä¿¡æ¯ã€‚
kernel/ å†…æ ¸çº§åˆ«ä»£ç ï¼Œä¸Šå±‚çš„ç³»ç»Ÿè°ƒç”¨ä»£ç åœ¨è¿™é‡Œï¼Œè¿˜æœ‰å…³äº printk() ä»£ç ï¼Œè°ƒåº¦ï¼Œä¿¡å·é‡å¤„ç†çš„ä»£ç ã€‚
lib/ å†…æ ¸æ‰€æœ‰ä½¿ç”¨çš„åº“éƒ½åœ¨è¿™é‡Œã€‚å¸¸è§çš„å­—ç¬¦ä¸²è¿ç®—ï¼Œè°ƒè¯•åº“ï¼Œå‘½ä»¤è¡Œè§£æä»£ç ç­‰ã€‚
mm/ é«˜çº§åˆ«çš„å†…å­˜ç®¡ç†ä»£ç ã€‚è™šæ‹Ÿå†…å­˜æ˜¯é€šè¿‡è¿™äº›åº“ä¸ä½çº§åˆ«çš„ä½“ç³»ç»“æ„ä»£ç (åœ¨ arch//mm )ä¸€åŒå®ç°çš„ã€‚è¿™é‡Œå®Œæˆäº†æ—©æœŸå¼•å¯¼å†…å­˜ç®¡ç†ï¼Œæ¶‰åŠæ–‡ä»¶çš„å†…å­˜æ˜ å°„ï¼Œé¡µç¼“å­˜çš„ç®¡ç†ï¼Œå†…å­˜åˆ†é…å’ŒRAMä¸­é¡µé¢çš„äº¤æ¢ã€‚
net/ é«˜çº§åˆ«çš„ç½‘ç»œä»£ç ã€‚ä¸ä½çº§åˆ«çš„ç½‘ç»œè¿›è¡Œå‘åŒ…ä¸æ”¶åŒ…äº¤äº’ã€‚*net/core* ä¸­åŒ…å«å…¶å®ƒç½‘ç»œåè®®ä½¿ç”¨çš„æ ¸å¿ƒä»£ç ã€‚netå­ç›®å½•å°±æ˜¯ç‰¹å®šçš„ç½‘ç»œåè®®å®ç°ã€‚
scripts/ è¿™é‡Œé¢åŒ…å«æ„å»ºå†…æ ¸çš„è„šæœ¬æ–‡ä»¶ã€‚
security/ ä¸åŒLinuxçš„å®‰å…¨æ¨¡å‹ä»£ç ã€‚
sound/ å£°å¡åŠç›¸å…³ä»£ç åœ¨è¿™é‡Œã€‚
usr/ è¯¥ç›®å½•åŒ…å«æ„å»ºæ ¹æ–‡ä»¶ç³»ç»Ÿæ˜ å°„çš„cpioæ ¼å¼çš„æ–‡æ¡£ä»£ç ï¼Œè¯¥æ–‡æ¡£ç”¨äºæ—©æœŸçš„ç”¨æˆ·ç©ºé—´ã€‚</p></div><footer class=entry-footer><span title='2022-04-06 18:53:00 +0800 CST'>April 6, 2022</span>&nbsp;Â·&nbsp;<span>1 min</span>&nbsp;Â·&nbsp;<span>54 words</span>&nbsp;Â·&nbsp;<span>tomyli</span></footer><a class=entry-link aria-label="post link to Linuxä»£ç ç»“æ„å­¦ä¹ " href=http://blog.imcompany.cn/post/linux-source/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>è®°ä¸€æ¬¡SpringWebfluxæ¡†æ¶ä¸‹å †å¤–OOMæ’æŸ¥ç»å†</h2></header><div class=entry-content><p>ç—‡çŠ¶ ç”Ÿäº§ç¯å¢ƒä¸šåŠ¡é¡µé¢æ‰“ä¸å¼€ï¼Œçœ‹é”™è¯¯æ—¥å¿—æ˜¯ OutOfDirectMemoryError (OOM)äº†ï¼Œè¯¦æƒ…æŠ¥é”™ä¿¡æ¯å¦‚ä¸‹ï¼š
2022-03-21 06:00:00.541 [,] [tafprx-asyrecv_9] ERROR r.c.p.Operators - [error,314] - Operator called default onErrorDropped java.lang.OutOfMemoryError: Direct buffer memory at java.base/java.nio.Bits.reserveMemory(Bits.java:175) at java.base/java.nio.DirectByteBuffer.&lt;init>(DirectByteBuffer.java:118) at java.base/java.nio.ByteBuffer.allocateDirect(ByteBuffer.java:317) at io.netty.buffer.PoolArena$DirectArena.allocateDirect(PoolArena.java:632) at io.netty.buffer.PoolArena$DirectArena.newChunk(PoolArena.java:607) at io.netty.buffer.PoolArena.allocateNormal(PoolArena.java:202) at io.netty.buffer.PoolArena.tcacheAllocateSmall(PoolArena.java:172) at io.netty.buffer.PoolArena.allocate(PoolArena.java:134) at io.netty.buffer.PoolArena.allocate(PoolArena.java:126) at io.netty.buffer.PooledByteBufAllocator.newDirectBuffer(PooledByteBufAllocator.java:395) at io.netty.buffer.AbstractByteBufAllocator.directBuffer(AbstractByteBufAllocator.java:187) at io.netty.buffer.AbstractByteBufAllocator.directBuffer(AbstractByteBufAllocator.java:178) at io.netty.buffer.AbstractByteBufAllocator.buffer(AbstractByteBufAllocator.java:115) at org.springframework.core.io.buffer.NettyDataBufferFactory.allocateBuffer(NettyDataBufferFactory.java:71) at org.springframework.core.io.buffer.NettyDataBufferFactory.allocateBuffer(NettyDataBufferFactory.java:39) at org.springframework.http.codec.json.AbstractJackson2Encoder.encodeValue(AbstractJackson2Encoder.java:236) at org.springframework.http.codec.json.AbstractJackson2Encoder.lambda$encode$0(AbstractJackson2Encoder.java:150) at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:113) at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1815) at reactor.core.publisher.MonoCompletionStage.lambda$subscribe$0(MonoCompletionStage.java:82) at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859) at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:883) at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2251) at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:143) at reactor.core.publisher.MonoCompletionStage.subscribe(MonoCompletionStage.java:57) at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:157) at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1815) at reactor.core.publisher.MonoFlatMap$FlatMapInner.onNext(MonoFlatMap.java:249) at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79) at reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:199) at reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:199) at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.complete(MonoIgnoreThen.java:284) at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onNext(MonoIgnoreThen.java:187) at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1815) at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:151) æ ¹æ®æŠ¥é”™çš„å †æ ˆï¼Œæ‰¾åˆ° AbstractJackson2Encoder:236 è¡Œï¼Œè°ƒè¯•å‘ç°æ¡†æ¶ä½¿ç”¨çš„bufferåœ¨æœ€åéƒ½è¿›è¡Œäº†é‡Šæ”¾ï¼Œçœ‹ç€æ²¡é—®é¢˜ã€‚
...</p></div><footer class=entry-footer><span title='2022-03-31 20:12:23 +0800 CST'>March 31, 2022</span>&nbsp;Â·&nbsp;<span>3 min</span>&nbsp;Â·&nbsp;<span>615 words</span>&nbsp;Â·&nbsp;<span>tomyli</span></footer><a class=entry-link aria-label="post link to è®°ä¸€æ¬¡SpringWebfluxæ¡†æ¶ä¸‹å †å¤–OOMæ’æŸ¥ç»å†" href=http://blog.imcompany.cn/post/springwebflux-leak-bug/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>é‚£äº›æé«˜æ•ˆç‡MACè½¯ä»¶(å…¨ç¨‹å…è´¹)</h2></header><div class=entry-content><p>NTFS æ”¯æŒMACç”µè„‘è¯»å–NTFSæ ¼å¼æ–‡ä»¶ eul ç›‘æ§MACè¿è¡ŒçŠ¶æ€çš„å·¥å…· uPic æ–‡ä»¶ä¸å›¾ç‰‡äº‘ç«¯ä¸Šä¼ å·¥å…· Sequel-Ace MACä¸Šæ•°æ®åº“ç®¡ç†å·¥å…·ï¼Œæ”¯æŒMysqlä¸MariaDB CopyQ MACä¸Šå…è´¹çš„å‰ªåˆ‡æ¿å·¥å…· Bob MACä¸Šç¿»è¯‘è½¯ä»¶ LuLu MACä¸Šå¼ºå¤§çš„é˜²ç«å¢™ hidden MACèœå•æ å›¾æ ‡éšè—å·¥å…· Brooklyn MACä¸Šç‚«é…·çš„å±ä¿ç¨‹åº Gifski æŠŠVideoè½¬æ¢æˆGif BackgroundMusic éŸ³é¢‘å·¥å…·ï¼Œå¯ä»¥ä¸ºæ¯ä¸ªappè®¾å®šéŸ³é‡å€¼ pixel-picker MACå–è‰²è½¯ä»¶ Itsycal MACæ—¥å†è½¯ä»¶ SwitchHosts å¿«é€Ÿåˆ‡æ¢æœºå™¨Hostï¼Œå¼€å‘å¿…å¤‡ hammerspoon ä½¿ç”¨Luaè„šæœ¬æ¥æ§åˆ¶ç”µè„‘
squirrel é¼ é¬šç®¡ï¼Œæ— æ•Œçš„è¾“å…¥æ³• iTerm2 MACä¸Šçš„ç»ˆç«¯æ¨¡æ‹Ÿå™¨ keycastr MACä¸ŠæŒ‰é”®æ˜¾ç¤ºå·¥å…· TODO pot-app/pot-desktop: ğŸŒˆä¸€ä¸ªè·¨å¹³å°çš„åˆ’è¯ç¿»è¯‘å’ŒOCRè½¯ä»¶ | A cross-platform software for text translation and recognition. TODO jordanbaird/Ice: Powerful menu bar manager for macOS TODO qarmin/czkawka: Multi functional app to find duplicates, empty folders, similar images etc. TODO FelixKratz/SketchyBar: A highly customizable macOS status bar replacement TODO nikitabobko/AeroSpace: AeroSpace is an i3-like tiling window manager for macOS TODO Alex313031/thorium: Chromium fork named after radioactive element No. 90. Windows and MacOS/Raspi/Android/Special builds are in different repositories, links are towards the top of the README.md. TODO odlp/bluesnooze: Sleeping Mac = Bluetooth off TODO nonwill/GoldenDict-OCR: GoldenDict++ï¼šå†…ç½®å¤§é‡çš„å®˜æ–¹ç‰ˆæœ¬é—®é¢˜çš„ä¿®æ­£ï¼›å…ˆæœŸæ·»åŠ äº†ä¸€ä¸ªç®€å•çš„æ’ä»¶æœºåˆ¶ï¼Œå¹¶åŸºäºè¯¥æœºåˆ¶æ¥å…¥äº†å¤šä¸ª OCR åˆ’è¯ å’Œ éŸ³é¢‘æ’­æ”¾ å¼•æ“ï¼›åæœŸåœ¨å¢å¼ºæ˜“ç”¨æ€§çš„åŸºç¡€ä¸Šä¸ºæé«˜æŸ¥è¯¢æ•ˆç‡ã€å‡å°‘è¿è¡Œæ—¶ CPU åŠ å†…å­˜ å ç”¨ã€é™ä½ä»£ç ç»´æŠ¤éš¾åº¦ï¼Œå®Œå…¨é‡æ„äº†æ‰€æœ‰çš„å®ç°ï¼›å°†æ¥çš„ç›®æ ‡æ˜¯å°†åŠŸèƒ½æ‰©å±•å’Œè¯å…¸æ ¼å¼å¤„ç†æŠ½è±¡ä¸ºå®Œæ•´çš„æ’ä»¶å®ç°ï¼Œä»¥è¿›ä¸€æ­¥å¢å¼ºåº”ç”¨çš„æ‰©å±•æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚ TODO Homebrew/homebrew-bundle: ğŸ“¦ Bundler for non-Ruby dependencies from Homebrew, Homebrew Cask and the Mac App Store. ungoogled-software/ungoogled-chromium: Google Chromium, sans integration with Google ç”Ÿæ´»ä¸­å»googleåŒ–
...</p></div><footer class=entry-footer><span title='2021-10-25 20:12:23 +0800 CST'>October 25, 2021</span>&nbsp;Â·&nbsp;<span>1 min</span>&nbsp;Â·&nbsp;<span>180 words</span>&nbsp;Â·&nbsp;<span>tomyli</span></footer><a class=entry-link aria-label="post link to é‚£äº›æé«˜æ•ˆç‡MACè½¯ä»¶(å…¨ç¨‹å…è´¹)" href=http://blog.imcompany.cn/post/mac-soft/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>è®©å¥½ä»£ç ç”Ÿç”Ÿä¸æ¯-æ›´å¥½çš„ä½¿ç”¨String</h2></header><div class=entry-content><p>å¼€å‘ä¸­å¸¸ç”¨çš„Stringæ“ä½œ å¼€å‘ä¸­ç»å¸¸ç”¨åˆ°çš„æ“ä½œæœ‰ï¼š
æ ¼å¼åŒ–/æ—¥å¿—æ ¼å¼åŒ– å­—ç¬¦ä¸²åˆ¤æ–­ å­—ç¬¦ä¸²å¤„ç†ï¼Œå¸¸è§çš„å¦‚å¤„ç†å­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ª/æœ€åä¸€ä¸ªå­—ç¬¦ String.format String.format()æ˜¯ä¸€ä¸ªæ ¼å¼åŒ–çš„æ–¹æ³•ï¼Œä½¿ç”¨%ä¸ºå‰ç¼€æ¥è¡¨ç¤ºè¦æ ¼å¼åŒ–çš„å†…å®¹å ä½ï¼Œä¸€èˆ¬çš„ä½¿ç”¨æ–¹æ³•ä¸ºï¼š
String.format("test result is %s", "success"); ä½†æ˜¯å½“è¦æ ¼å¼åŒ–çš„å ä½ç¬¦ä¸å‚æ•°ä¸ªæ•°ä¸åŒæ—¶ä¼šå‘ç”Ÿä»€ä¹ˆå‘¢ï¼Ÿ
å ä½ç¬¦ä¸ªæ•°ä¸å‚æ•°ä¸ªæ•°ç›¸åŒ å¦‚ä¸Šä»£ç ï¼Œå¯ä»¥æ­£å¸¸è¿›è¡Œè¾“å‡º: test result is success
å ä½ç¬¦ä¸ªæ•°å°‘äºå‚æ•°ä¸ªæ•° String.format("test result is %s", "success", "other"); å¯ä»¥æ­£å¸¸æ‰“å°ï¼Œè¾“å‡ºç»“æœä¸º: test result is success
å ä½ç¬¦ä¸ªæ•°å¤šäºå‚æ•°ä¸ªæ•° String.format("test result is %s %s %s", "success", "other"); æŠ›å‡ºäº†å¼‚å¸¸java.util.MissingFormatArgumentException: Format specifier â€˜%sâ€™
é—®é¢˜æ€»ç»“ ä¸ºä»€ä¹ˆå ä½ç¬¦æ•°å°‘äºå‚æ•°ä¸ªæ•°å¯ä»¥æ­£å¸¸æ‰§è¡Œï¼Œè€Œå¤šäºå‚æ•°ä¸ªæ•°å´æŠ¥äº†å¼‚å¸¸ï¼Ÿçœ‹JAVADOCå‘ç°ï¼Œå¦‚æœå ä½ç¬¦ä¸ªæ•°å°‘äºå‚æ•°ä¸ªæ•°ï¼Œåˆ™å¤šä½™çš„å‚æ•°è¢«å¿½ç•¥ï¼Œå¦‚æœå¤šäºå‚æ•°ä¸ªæ•°ï¼Œåˆ™åœ¨è¿›è¡Œè§£ææ—¶ä¼šåˆ¤æ–­å¾…å¤„ç†å ä½ç¬¦ä½ç½®ä¸å‚æ•°ä¸ªæ•°ï¼Œä¸»è¦ä»£ç é€»è¾‘å¦‚ä¸‹ï¼š
if (args != null && lasto > args.length - 1) throw new MissingFormatArgumentException(fs.toString()); æ‰€ä»¥åœ¨ä½¿ç”¨String.formatæ–¹æ³• åˆ‡è®° è¦å‚æ•°ä¸ªæ•°å¤šäºå¾…è§£æå ä½ç¬¦çš„ä¸ªæ•°ï¼Œè¿™ç§é—®é¢˜å¸¸å› ä¸ºCopyæ“ä½œåï¼Œå¤„ç†äº†éƒ¨åˆ†å‚æ•°è€Œå¿˜è®°å¯¹åº”å¤„ç†å ä½ç¬¦
æ›¿æ¢æ–¹æ¡ˆ
ç›®å‰çœ‹åˆ°å¾ˆå¤šçš„è€ä»£ç æ‰“å°æ—¥å¿—æ—¶å¤§éƒ½ä½¿ç”¨String.format()ï¼Œå¯ä»¥æ”¹æˆslf4jçš„{} è¿˜å¯ä»¥ä½¿ç”¨Apache common utilsä¸­çš„StringUtils.joinWith()æˆ–è€…Google guavaçš„Joinerè¿æ¥å™¨ Apache commons utils-StringUtils åœ¨StringUtilsä¸­æœ‰ä¸€ä¸ªisNumericæ–¹æ³•ï¼Œç”¨æ¥åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯ä¸æ˜¯æ•°å­—ï¼Œé‚£ä¸‹é¢çš„ä»£ç ä¼šè¿”å›ä»€ä¹ˆå‘¢ï¼Ÿ
...</p></div><footer class=entry-footer><span title='2021-08-23 14:04:09 +0800 CST'>August 23, 2021</span>&nbsp;Â·&nbsp;<span>2 min</span>&nbsp;Â·&nbsp;<span>221 words</span>&nbsp;Â·&nbsp;<span>tomyli</span></footer><a class=entry-link aria-label="post link to è®©å¥½ä»£ç ç”Ÿç”Ÿä¸æ¯-æ›´å¥½çš„ä½¿ç”¨String" href=http://blog.imcompany.cn/post/best-code-string/></a></article><footer class=page-footer><nav class=pagination><a class=prev href=http://blog.imcompany.cn/page/8/>Â«&nbsp;Prev&nbsp;
</a><a class=next href=http://blog.imcompany.cn/page/10/>Next&nbsp;&nbsp;Â»</a></nav></footer></main><footer class=footer><span>&copy; 2026 <a href=http://blog.imcompany.cn/>I'm company</a></span> Â·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");if(menu){const e=localStorage.getItem("menu-scroll-position");e&&(menu.scrollLeft=parseInt(e,10)),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{const e=document.querySelector("html");e.dataset.theme==="dark"?(e.dataset.theme="light",localStorage.setItem("pref-theme","light")):(e.dataset.theme="dark",localStorage.setItem("pref-theme","dark"))})</script></body></html>